var D=Object.defineProperty;var N=(t,a,r)=>a in t?D(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;var m=(t,a,r)=>(N(t,typeof a!="symbol"?a+"":a,r),r);import{j as e,o as u,f as w,R as o,B as i,_ as n,x as R,n as S,r as h}from"./index-9083a265.js";import{u as x}from"./useStoreDashboard-dac11d7b.js";import{T as C}from"./triangle-alert-00791701.js";const p=({className:t,size:a="default",text:r})=>{const s={sm:"h-4 w-4",default:"h-8 w-8",lg:"h-12 w-12"};return e.jsxs("div",{className:u("flex flex-col items-center justify-center p-6 rounded-lg",t),children:[e.jsx(w,{className:u("animate-spin text-primary mb-3",s[a])}),r&&e.jsx("p",{className:"text-sm font-medium text-muted-foreground animate-pulse",children:r})]})};class L extends o.Component{constructor(r){super(r);m(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("Uncaught error:",r,s)}render(){return this.state.hasError?e.jsxs("div",{className:"min-h-[400px] flex flex-col items-center justify-center p-6 text-center bg-slate-50 rounded-lg border-2 border-dashed border-red-200 m-4",children:[e.jsx("div",{className:"bg-red-100 p-4 rounded-full mb-4",children:e.jsx(C,{className:"h-8 w-8 text-red-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Algo salió mal"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:"Ha ocurrido un error inesperado en este componente. Por favor intenta recargar."}),e.jsx(i,{onClick:this.handleReset,variant:"destructive",children:"Recargar Página"}),!1]}):this.props.children}}const P=o.lazy(()=>n(()=>import("./RestaurantDashboard-2a16a835.js"),["./RestaurantDashboard-2a16a835.js","./index-9083a265.js","./index-5de83a78.css","./BulkUploadTab-c79223c9.js","./upload-52e19c26.js","./circle-alert-7ba7cf89.js","./BaseStoreDashboard-95c4e9f2.js","./Helmet-a3f46ffc.js","./log-out-f36dce14.js","./badge-29da9c44.js","./useStoreDashboard-dac11d7b.js","./RestaurantMenuView-fb7c6e06.js","./input-f40b5322.js","./select-3fcc46eb.js","./check-86a4f1d1.js","./label-9012fa84.js","./textarea-c7c4cb4e.js","./switch-11e6e656.js","./index-1fbefbe4.js","./search-d5f724c4.js","./utensils-crossed-8378ccfc.js","./pencil-cbcb3e21.js","./GenericPOSView-9ba79c46.js","./scroll-area-66c3347f.js","./shopping-cart-d265392e.js","./circle-check-big-df71119a.js","./calendar-581f5394.js","./credit-card-e7927076.js","./settings-dc2a13fd.js","./users-69003029.js","./triangle-alert-00791701.js"],import.meta.url)),A=o.lazy(()=>n(()=>import("./HotelDashboard-1470e754.js"),["./HotelDashboard-1470e754.js","./index-9083a265.js","./index-5de83a78.css","./BaseStoreDashboard-95c4e9f2.js","./Helmet-a3f46ffc.js","./log-out-f36dce14.js","./tabs-e454222b.js","./circle-check-big-df71119a.js","./clock-b1ebfb45.js","./input-f40b5322.js","./label-9012fa84.js","./select-3fcc46eb.js","./check-86a4f1d1.js","./badge-29da9c44.js","./search-d5f724c4.js","./calendar-581f5394.js","./credit-card-e7927076.js","./save-12935dd3.js","./FinancialsTab-052a94cf.js","./useStoreDashboard-dac11d7b.js","./settings-dc2a13fd.js","./trending-up-25d33acb.js","./circle-alert-7ba7cf89.js","./triangle-alert-00791701.js","./GenericPOSView-9ba79c46.js","./scroll-area-66c3347f.js","./shopping-cart-d265392e.js","./StoreCustomersTab-9b62b19b.js","./users-69003029.js","./withStoreCategory-362017c1.js","./bed-double-7e91c340.js"],import.meta.url)),g=o.lazy(()=>n(()=>import("./ClothingStoreDashboard-d0d16991.js"),["./ClothingStoreDashboard-d0d16991.js","./index-9083a265.js","./index-5de83a78.css","./BaseStoreDashboard-95c4e9f2.js","./Helmet-a3f46ffc.js","./log-out-f36dce14.js","./OverviewTab-aa2bcbfb.js","./useStoreDashboard-dac11d7b.js","./settings-dc2a13fd.js","./package-0a61c0c1.js","./trending-up-25d33acb.js","./triangle-alert-00791701.js","./input-f40b5322.js","./select-3fcc46eb.js","./check-86a4f1d1.js","./label-9012fa84.js","./textarea-c7c4cb4e.js","./badge-29da9c44.js","./search-d5f724c4.js","./shirt-73481007.js","./pencil-cbcb3e21.js","./OrdersManagementTab-3fd70c0a.js","./clock-b1ebfb45.js","./truck-cf1d9e76.js","./map-pin-9a40b828.js","./FinancialsTab-052a94cf.js","./credit-card-e7927076.js","./circle-alert-7ba7cf89.js","./StoreCustomersTab-9b62b19b.js","./users-69003029.js"],import.meta.url)),O=o.lazy(()=>n(()=>import("./PharmacyDashboard-c378622d.js"),["./PharmacyDashboard-c378622d.js","./index-9083a265.js","./index-5de83a78.css","./BaseStoreDashboard-95c4e9f2.js","./Helmet-a3f46ffc.js","./log-out-f36dce14.js","./OverviewTab-aa2bcbfb.js","./useStoreDashboard-dac11d7b.js","./settings-dc2a13fd.js","./package-0a61c0c1.js","./trending-up-25d33acb.js","./triangle-alert-00791701.js","./input-f40b5322.js","./select-3fcc46eb.js","./check-86a4f1d1.js","./label-9012fa84.js","./textarea-c7c4cb4e.js","./switch-11e6e656.js","./index-1fbefbe4.js","./badge-29da9c44.js","./pill-c987e475.js","./pencil-cbcb3e21.js","./OrdersManagementTab-3fd70c0a.js","./clock-b1ebfb45.js","./truck-cf1d9e76.js","./map-pin-9a40b828.js","./GenericPOSView-9ba79c46.js","./scroll-area-66c3347f.js","./shopping-cart-d265392e.js","./search-d5f724c4.js","./circle-check-big-df71119a.js","./BulkUploadTab-c79223c9.js","./upload-52e19c26.js","./circle-alert-7ba7cf89.js","./FinancialsTab-052a94cf.js","./credit-card-e7927076.js","./AdminTab-7a5a603d.js","./user-plus-eab42a88.js","./users-69003029.js","./StoreCustomersTab-9b62b19b.js"],import.meta.url)),f=o.lazy(()=>n(()=>import("./BakeryDashboard-a299b511.js"),["./BakeryDashboard-a299b511.js","./index-9083a265.js","./index-5de83a78.css","./BaseStoreDashboard-95c4e9f2.js","./Helmet-a3f46ffc.js","./log-out-f36dce14.js","./OverviewTab-aa2bcbfb.js","./useStoreDashboard-dac11d7b.js","./settings-dc2a13fd.js","./package-0a61c0c1.js","./trending-up-25d33acb.js","./triangle-alert-00791701.js","./RestaurantMenuView-fb7c6e06.js","./input-f40b5322.js","./select-3fcc46eb.js","./check-86a4f1d1.js","./label-9012fa84.js","./textarea-c7c4cb4e.js","./switch-11e6e656.js","./index-1fbefbe4.js","./badge-29da9c44.js","./search-d5f724c4.js","./utensils-crossed-8378ccfc.js","./pencil-cbcb3e21.js","./OrdersManagementTab-3fd70c0a.js","./clock-b1ebfb45.js","./truck-cf1d9e76.js","./map-pin-9a40b828.js","./BulkUploadTab-c79223c9.js","./upload-52e19c26.js","./circle-alert-7ba7cf89.js","./FinancialsTab-052a94cf.js","./credit-card-e7927076.js","./AdminTab-7a5a603d.js","./user-plus-eab42a88.js","./users-69003029.js","./ProfileTab-c0832029.js","./wheat-42f4aa4c.js"],import.meta.url)),T=o.lazy(()=>n(()=>import("./GroceryDashboard-2895765a.js"),["./GroceryDashboard-2895765a.js","./index-9083a265.js","./index-5de83a78.css","./BaseStoreDashboard-95c4e9f2.js","./Helmet-a3f46ffc.js","./log-out-f36dce14.js","./useStoreDashboard-dac11d7b.js","./OverviewTab-aa2bcbfb.js","./settings-dc2a13fd.js","./package-0a61c0c1.js","./trending-up-25d33acb.js","./triangle-alert-00791701.js","./input-f40b5322.js","./select-3fcc46eb.js","./check-86a4f1d1.js","./label-9012fa84.js","./textarea-c7c4cb4e.js","./index-1fbefbe4.js","./badge-29da9c44.js","./table-9277bd3f.js","./shopping-cart-d265392e.js","./search-d5f724c4.js","./pencil-cbcb3e21.js","./OrdersManagementTab-3fd70c0a.js","./clock-b1ebfb45.js","./truck-cf1d9e76.js","./map-pin-9a40b828.js","./BulkUploadTab-c79223c9.js","./upload-52e19c26.js","./circle-alert-7ba7cf89.js","./FinancialsTab-052a94cf.js","./credit-card-e7927076.js","./AdminTab-7a5a603d.js","./user-plus-eab42a88.js","./users-69003029.js","./ProfileTab-c0832029.js"],import.meta.url)),_=o.lazy(()=>n(()=>import("./GeneralStoreDashboard-200523e8.js"),["./GeneralStoreDashboard-200523e8.js","./index-9083a265.js","./index-5de83a78.css","./BaseStoreDashboard-95c4e9f2.js","./Helmet-a3f46ffc.js","./log-out-f36dce14.js","./useStoreDashboard-dac11d7b.js","./credit-card-e7927076.js","./upload-52e19c26.js","./settings-dc2a13fd.js","./users-69003029.js","./triangle-alert-00791701.js"],import.meta.url)),b=o.lazy(()=>n(()=>import("./AgriculturalDashboard-821758be.js"),["./AgriculturalDashboard-821758be.js","./index-9083a265.js","./index-5de83a78.css","./BaseStoreDashboard-95c4e9f2.js","./Helmet-a3f46ffc.js","./log-out-f36dce14.js","./OverviewTab-aa2bcbfb.js","./useStoreDashboard-dac11d7b.js","./settings-dc2a13fd.js","./package-0a61c0c1.js","./trending-up-25d33acb.js","./triangle-alert-00791701.js","./input-f40b5322.js","./select-3fcc46eb.js","./check-86a4f1d1.js","./label-9012fa84.js","./textarea-c7c4cb4e.js","./sprout-0c714d7f.js","./search-d5f724c4.js","./pencil-cbcb3e21.js","./GenericPOSView-9ba79c46.js","./badge-29da9c44.js","./scroll-area-66c3347f.js","./shopping-cart-d265392e.js","./circle-check-big-df71119a.js","./tabs-e454222b.js","./truck-cf1d9e76.js","./map-pin-9a40b828.js","./BulkUploadTab-c79223c9.js","./upload-52e19c26.js","./circle-alert-7ba7cf89.js","./OrdersManagementTab-3fd70c0a.js","./clock-b1ebfb45.js","./FinancialsTab-052a94cf.js","./credit-card-e7927076.js","./AdminTab-7a5a603d.js","./user-plus-eab42a88.js","./users-69003029.js","./StoreCustomersTab-9b62b19b.js"],import.meta.url)),j=o.lazy(()=>n(()=>import("./StationeryDashboard-d15001c2.js"),["./StationeryDashboard-d15001c2.js","./index-9083a265.js","./index-5de83a78.css","./BaseStoreDashboard-95c4e9f2.js","./Helmet-a3f46ffc.js","./log-out-f36dce14.js","./input-f40b5322.js","./select-3fcc46eb.js","./check-86a4f1d1.js","./label-9012fa84.js","./textarea-c7c4cb4e.js","./useStoreDashboard-dac11d7b.js","./search-d5f724c4.js","./pencil-cbcb3e21.js","./scroll-area-66c3347f.js","./badge-29da9c44.js","./shopping-cart-d265392e.js","./credit-card-e7927076.js","./circle-x-716ef537.js","./StoreCustomersTab-9b62b19b.js","./users-69003029.js","./withStoreCategory-362017c1.js","./triangle-alert-00791701.js","./package-0a61c0c1.js","./upload-52e19c26.js","./settings-dc2a13fd.js"],import.meta.url)),z={restaurante:P,hotel:A,ropa:g,"tienda de ropa":g,farmacia:O,panadería:f,panaderia:f,supermercado:T,cultivador:b,cultivadores:b,papelería:j,papeleria:j},I=()=>{const{user:t,signOut:a}=R(),r=S(),{store:s,isLoadingStore:y,error:l,fetchStoreData:c}=x();if(h.useEffect(()=>{t&&(s&&s.owner_id!==t.id&&x.getState().reset(),c(t.id))},[t,c]),h.useEffect(()=>{t||r("/tienda/login")},[t,r]),!t)return null;if(y)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:e.jsx(p,{text:"Cargando tu negocio...",size:"lg"})});if(l)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-lg text-center border border-red-100",children:[e.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Error de Carga"}),e.jsx("p",{className:"text-gray-600 mb-4",children:l}),e.jsx(i,{onClick:()=>window.location.reload(),className:"w-full",children:"Reintentar"})]})});if(!s)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-lg text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Negocio no encontrado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"No se encontró un negocio asociado a tu cuenta. ¿Deseas registrar uno nuevo?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{onClick:()=>r("/tienda/registro"),className:"w-full bg-green-600 hover:bg-green-700",children:"Registrar Negocio"}),e.jsx(i,{onClick:()=>a(),variant:"outline",className:"w-full",children:"Cerrar Sesión"})]})]})});const v=(()=>{if(!s.category)return _;const E=s.category.toLowerCase().trim(),d=z[E];return d||(console.warn(`[StoreDashboardRouter] Unknown category: "${s.category}". Falling back to General Dashboard.`),_)})();return e.jsx(L,{children:e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"h-screen flex items-center justify-center",children:e.jsx(p,{text:"Cargando panel..."})}),children:e.jsx(v,{store:s})})})},F=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{p as L,F as i};
