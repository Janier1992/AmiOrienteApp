import{f as u,l as j,n as f,g as v,j as e,h as o,B as c,X as w,L as m,H as N,r as d,o as y,a1 as k,a2 as L}from"./index-4020e339.js";import{H as S}from"./Helmet-966781f7.js";import{L as C}from"./log-out-30241d86.js";import{L as D}from"./index-a6eb7b0d.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],z=u("chevron-right",O);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],_=u("layout-dashboard",I),A=({title:a,navItems:r,isOpen:l,toggleSidebar:t})=>{const{signOut:s}=j(),i=f(),p=v(),g=async()=>{await s(),p("/tienda/login")},b=({item:n})=>{const x=`/tienda/dashboard/${n.path}`,h=n.path===""?i.pathname==="/tienda/dashboard"||i.pathname==="/tienda/dashboard/":i.pathname.startsWith(x);return e.jsxs(m,{to:x,onClick:()=>t(!1),className:o("group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 mb-1",h?"bg-green-600 text-white shadow-md shadow-green-200":"text-slate-600 hover:bg-green-50 hover:text-green-700"),children:[e.jsx(n.icon,{className:o("h-5 w-5 mr-3 flex-shrink-0 transition-colors",h?"text-white":"text-slate-400 group-hover:text-green-600")}),e.jsx("span",{className:"truncate flex-1",children:n.label}),h&&e.jsx(z,{className:"h-4 w-4 text-white/80"})]})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:o("fixed inset-0 bg-black/60 z-40 lg:hidden backdrop-blur-sm transition-opacity duration-300",l?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:()=>t(!1),"aria-hidden":"true"}),e.jsx("aside",{className:o("fixed top-0 left-0 z-50 h-full w-64 bg-white border-r border-slate-200 shadow-xl lg:shadow-none","transform transition-transform duration-300 ease-in-out",l?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 border-b border-slate-100 px-4 shrink-0 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[e.jsx("div",{className:"h-8 w-8 bg-green-100 rounded-lg flex items-center justify-center text-green-700 font-bold shrink-0",children:(a==null?void 0:a.charAt(0))||"M"}),e.jsx("span",{className:"font-bold text-lg text-slate-800 truncate",title:a,children:a||"Mi Negocio"})]}),e.jsx(c,{variant:"ghost",size:"icon",className:"lg:hidden text-slate-400",onClick:()=>t(!1),children:e.jsx(w,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-4 flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-200",children:[e.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 pl-3",children:"Gestión"}),e.jsx("nav",{className:"space-y-1",children:r.map(n=>e.jsx(b,{item:n},n.label))})]}),e.jsxs("div",{className:"p-4 border-t border-slate-100 space-y-2 bg-slate-50/50 shrink-0",children:[e.jsx(m,{to:"/",children:e.jsxs(c,{variant:"outline",className:"w-full justify-start border-slate-200 text-slate-600 hover:text-green-700 hover:bg-white hover:border-green-200",children:[e.jsx(N,{className:"h-4 w-4 mr-3"}),"Ir al Inicio"]})}),e.jsxs(c,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:g,children:[e.jsx(C,{className:"h-4 w-4 mr-3"}),"Cerrar Sesión"]})]})]})})]})},B=({title:a,navItems:r,children:l})=>{const[t,s]=d.useState(!1),i=f();return d.useEffect(()=>{s(!1)},[i.pathname]),e.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[e.jsx(S,{children:e.jsxs("title",{children:[a||"Dashboard"," | MiOriente"]})}),e.jsxs(c,{variant:"outline",size:"icon",className:"fixed top-4 left-4 z-[60] lg:hidden shadow-md bg-white border-slate-200 text-slate-700 hover:bg-slate-50",onClick:()=>s(!t),children:[e.jsx(y,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Abrir menú"})]}),e.jsx(A,{title:a,navItems:r,isOpen:t,toggleSidebar:s}),e.jsx("main",{className:"flex-1 min-w-0 transition-all duration-300 ease-in-out lg:ml-64 w-full",children:e.jsx("div",{className:"h-full p-4 sm:p-6 lg:p-8 mt-14 lg:mt-0 animate-in fade-in duration-500",children:l})})]})},$=({store:a,tabs:r,title:l})=>{const t=r.filter(s=>!s.hidden).map(s=>({label:s.label,icon:s.icon,path:s.path}));return e.jsx(B,{title:l||(a==null?void 0:a.name)||"Dashboard",navItems:t,children:e.jsx(d.Suspense,{fallback:e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(D,{})}),children:e.jsx(k,{children:r.map(s=>e.jsx(L,{path:s.path,element:s.element},s.path))})})})};export{$ as B,_ as L};
