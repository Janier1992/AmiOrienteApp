import{f as d,y as e,a as j,b as g,c as v,o as b,d as f,x as N,W as _,k as y,N as m}from"./index-87ab05f1.js";import{a as o}from"./input-977568de-bea10295-4adb3258-368f21ef-dd0395aa.js";import{u as c}from"./label-6ced007b-31f64b09-71156226-1e4e75c4-8af8544c.js";import{u as C}from"./useStoreDashboard-6cfa5bdd-a014cfe4-c8bff8db-4123484f-ad5d382b.js";const L=()=>{const{store:a,setStore:h}=C(),[i,n]=d.useState(!1),[s,p]=d.useState({name:(a==null?void 0:a.name)||"",address:(a==null?void 0:a.address)||"",description:(a==null?void 0:a.description)||"",contact_email:(a==null?void 0:a.contact_email)||"",contact_phone:(a==null?void 0:a.contact_phone)||"",whatsapp:(a==null?void 0:a.whatsapp)||"",facebook_url:(a==null?void 0:a.facebook_url)||"",instagram_url:(a==null?void 0:a.instagram_url)||""}),r=l=>{p({...s,[l.target.name]:l.target.value})},u=async l=>{l.preventDefault(),n(!0);try{const{data:x,error:t}=await y.from("stores").update(s).eq("id",a.id).select().single();if(t)throw t;h(x),m({title:"Perfil actualizado",description:"Los cambios se han guardado correctamente."})}catch{m({title:"Error",description:"No se pudieron guardar los cambios.",variant:"destructive"})}finally{n(!1)}};return e.jsxs(j,{children:[e.jsxs(g,{children:[e.jsx(v,{children:"Configuración del Negocio"}),e.jsx(b,{children:"Actualiza la información pública de tu negocio."})]}),e.jsx(f,{children:e.jsxs("form",{onSubmit:u,className:"space-y-6 max-w-lg",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-1",children:"Información Básica"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"name",children:"Nombre del Negocio"}),e.jsx(o,{id:"name",name:"name",value:s.name,onChange:r,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"address",children:"Dirección Física"}),e.jsx(o,{id:"address",name:"address",value:s.address,onChange:r,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"description",children:"Descripción Corta"}),e.jsx(o,{id:"description",name:"description",value:s.description,onChange:r,placeholder:"Ej: La mejor cosecha de Rionegro"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-1",children:"Contacto"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"contact_email",children:"Correo de Contacto"}),e.jsx(o,{id:"contact_email",name:"contact_email",type:"email",value:s.contact_email,onChange:r,placeholder:"correo@ejemplo.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"contact_phone",children:"Teléfono / Celular"}),e.jsx(o,{id:"contact_phone",name:"contact_phone",value:s.contact_phone,onChange:r,placeholder:"+57 300..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"whatsapp",children:"WhatsApp (Link o Número)"}),e.jsx(o,{id:"whatsapp",name:"whatsapp",value:s.whatsapp,onChange:r,placeholder:"57300..."})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-1",children:"Redes Sociales"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"facebook_url",children:"Facebook URL"}),e.jsx(o,{id:"facebook_url",name:"facebook_url",value:s.facebook_url,onChange:r,placeholder:"https://facebook.com/..."})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"instagram_url",children:"Instagram URL"}),e.jsx(o,{id:"instagram_url",name:"instagram_url",value:s.instagram_url,onChange:r,placeholder:"https://instagram.com/..."})]})]}),e.jsx("div",{className:"pt-4",children:e.jsxs(N,{type:"submit",disabled:i,className:"bg-green-600 hover:bg-green-700 w-full md:w-auto",children:[i?e.jsx(_,{className:"h-4 w-4 animate-spin mr-2"}):null,"Guardar Cambios"]})})]})})]})};export{L as default};
