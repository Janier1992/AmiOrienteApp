import{a as u,r as t,j as e,m as i,L as l,B as n,c as h,e as f}from"./index-4020e339.js";import{H as p}from"./Helmet-966781f7.js";import{C as g,a as j,b as N,c as b}from"./card-cc9cfd5e.js";import{C as w}from"./circle-check-big-56bcfc57.js";import{A as C}from"./arrow-right-4fb6d6ff.js";const B=()=>{const[c]=u(),r=c.get("order_id"),[s,m]=t.useState(null),[x,o]=t.useState(!0);return t.useEffect(()=>{(async()=>{if(!r){o(!1);return}try{const{data:a,error:d}=await f.from("orders").select("*, stores(name)").eq("id",r).single();if(d)throw d;m(a)}catch(a){console.error("Error fetching order details:",a)}finally{o(!1)}})()},[r]),e.jsxs(e.Fragment,{children:[e.jsx(p,{children:e.jsx("title",{children:"Pedido Confirmado - Domicilios MiOriente"})}),e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:e.jsx(i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:e.jsxs(g,{className:"w-full max-w-lg text-center shadow-xl bg-card text-card-foreground border-border",children:[e.jsxs(j,{children:[e.jsx(i.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:260,damping:20},children:e.jsx(w,{className:"mx-auto h-20 w-20 text-primary"})}),e.jsx(N,{className:"text-3xl font-bold mt-4",children:"¡Pedido Realizado con Éxito!"})]}),e.jsxs(b,{className:"space-y-6",children:[e.jsx("p",{className:"text-muted-foreground text-lg",children:"Gracias por tu compra. Hemos recibido tu pedido y ya lo estamos procesando."}),x?e.jsx("p",{className:"text-muted-foreground",children:"Cargando detalles del pedido..."}):s?e.jsxs("div",{className:"text-left bg-muted p-4 rounded-lg border border-border",children:[e.jsxs("p",{className:"text-foreground",children:[e.jsx("strong",{children:"Número de Pedido:"})," #",s.id.substring(0,8)]}),e.jsxs("p",{className:"text-foreground",children:[e.jsx("strong",{children:"Tienda:"})," ",s.stores.name]}),e.jsxs("p",{className:"text-foreground",children:[e.jsx("strong",{children:"Total:"})," $",Number(s.total).toLocaleString()]}),e.jsxs("p",{className:"text-foreground",children:[e.jsx("strong",{children:"Estado:"})," ",s.status]})]}):e.jsx("p",{className:"text-destructive",children:"No se pudieron cargar los detalles del pedido."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(l,{to:"/cliente/dashboard",children:e.jsxs(n,{className:"w-full sm:w-auto",children:["Ir a Mis Pedidos ",e.jsx(C,{className:"ml-2 h-4 w-4"})]})}),e.jsx(l,{to:"/productos",children:e.jsxs(n,{variant:"outline",className:"w-full sm:w-auto",children:[e.jsx(h,{className:"mr-2 h-4 w-4"})," Seguir Comprando"]})})]})]})]})})})]})};export{B as default};
