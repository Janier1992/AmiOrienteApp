import{S as E,u as re,b as p,y as e,Y as te,w as x,q as ie,W as le,x as g,F as oe,i as ce,H as ne,J as de,A as me,d as _,f as P,h as F,p as q,G as he,X as pe,_ as k}from"./index-4834c6e1.js";import{R as xe,_ as ue}from"./BaseStoreDashboard-9ad5c13e-d7a1a933.js";import ge from"./OverviewTab-a01a807a-07dd1735.js";import{l as b}from"./input-977568de-bea10295.js";import{k as K,O as U,V as B,I as Q,M as m}from"./select-03f52418-c5111b6c.js";import{u as j}from"./label-6ced007b-31f64b09.js";import{t as je}from"./textarea-03a75c76-69040bf5.js";import{u as fe}from"./useStoreDashboard-6cfa5bdd-a014cfe4.js";import{e as O}from"./sprout-8c216a34-39352dac.js";import{o as ye}from"./search-566f00ed-c3babbf0.js";import{c as be}from"./pencil-b145156d-81e39600.js";import ve from"./GenericPOSView-65865e30-e48d2479.js";import{V as Ne,G as we,k as D,L as z}from"./tabs-60a3e460-388ba4b9.js";import{r as X}from"./truck-a0071c63-090d128d.js";import{t as Ce}from"./package-99b0a55c-785e5cf1.js";import{o as ke}from"./map-pin-4396fd6c-98f8e615.js";import{B as Se,F as _e}from"./BulkUploadTab-0fe3efc4-824a62de.js";import qe from"./OrdersManagementTab-74307886-48065a75.js";import Le from"./FinancialsTab-e07ef4f8-cb7c3ea0.js";import Me from"./AdminTab-1ef2bbd0-38fe81f3.js";import{U as Pe,k as Fe}from"./StoreCustomersTab-ce620322-3ebc43ae.js";import{c as Oe}from"./credit-card-bcc8ac59-e0a7eb79.js";import{r as W}from"./users-93d0d9a2-82ed9403.js";import{t as Ve}from"./upload-8259cec2-21216fe4.js";import{a as Ge,n as Te}from"./settings-96af137d-f461a4db.js";import"./Helmet-d9a99439-17d17245.js";import"./log-out-1de3e3ee-53ee1d6f.js";import"./index-6c60542e-1f0cc56c.js";import"./triangle-alert-5ea4272b-316ec065.js";import"./trending-up-147c55bb-4628ab85.js";import"./check-78166ef5-9630779a.js";import"./scroll-area-d0c9b1aa-5d11dc0b.js";import"./shopping-cart-8aca5ef3-095b1616.js";import"./circle-check-big-68527463-8ad93454.js";import"./circle-alert-58769497-aeae36dd.js";import"./clock-0a32af33-121834d9.js";import"./user-plus-74362f50-3e37ce73.js";import"./badge-34bdff7c-b2c90fce.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}],["path",{d:"M15.947 12.65a4 4 0 0 0-5.925-4.128",key:"dpwdj0"}],["path",{d:"M13 22H7a5 5 0 1 1 4.9-6H13a3 3 0 0 1 0 6Z",key:"s09mg5"}]],De=E("cloud-sun",$e);/**
* @license lucide-react v0.561.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ze=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ee=E("external-link",ze);/**
* @license lucide-react v0.561.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const Ie=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],Re=E("qr-code",Ie),S={async getCrops(s){const{data:c,error:r}=await x.from("products").select("*").eq("store_id",s).order("created_at",{ascending:!1});if(r)throw r;return c.map(a=>({...a}))},async saveCrop(s){if(s.id){const{data:c,error:r}=await x.from("products").update(s).eq("id",s.id).select().single();if(r)throw r;return c}else{const{data:c,error:r}=await x.from("products").insert(s).select().single();if(r)throw r;return c}},async deleteCrop(s){const{error:c}=await x.from("products").delete().eq("id",s);if(c)throw c},async createPOSTransaction({orderPayload:s,items:c}){const{data:r,error:a}=await x.from("orders").insert(s).select().single();if(a)throw a;const l=c.map(t=>({order_id:r.id,product_id:t.id,quantity:t.qty,price:t.price})),{error:o}=await x.from("order_items").insert(l);if(o)throw console.error("Error creating items",o),o;for(const t of c)if(t.stock!==void 0){const f=Math.max(0,t.stock-t.qty);await x.from("products").update({stock:f}).eq("id",t.id)}return r}},Y=re((s,c)=>({crops:[],cart:[],isLoadingCrops:!1,isLoadingCheckout:!1,error:null,fetchCrops:async r=>{s({isLoadingCrops:!0,error:null});try{const a=await S.getCrops(r);s({crops:a})}catch(a){s({error:a.message})}finally{s({isLoadingCrops:!1})}},addToCart:r=>{const a=c().cart,l=a.find(o=>o.id===r.id);if(l){if(r.stock!==void 0&&l.qty>=r.stock)return!1;s({cart:a.map(o=>o.id===r.id?{...o,qty:o.qty+1}:o)})}else s({cart:[...a,{...r,qty:1}]});return!0},removeFromCart:r=>{s(a=>({cart:a.cart.filter(l=>l.id!==r)}))},updateCartQty:(r,a)=>{s(l=>({cart:l.cart.map(o=>{if(o.id===r){const t=Math.max(1,o.qty+a);return a>0&&o.stock!==void 0&&t>o.stock?o:{...o,qty:t}}return o})}))},clearCart:()=>s({cart:[]}),processCheckout:async(r,a,l,o)=>{const t=c().cart;if(t.length===0)return;const f=typeof a=="object"?{name:a.name,doc_id:a.docId,phone:a.phone,email:a.email,method:l,type:"POS"}:{name:a,method:l,type:"POS"};s({isLoadingCheckout:!0});try{const v={store_id:r,customer_id:null,status:"Confirmado",total:o,delivery_address:JSON.stringify({guest:f,items:t.map(y=>({id:y.id,name:y.name,qty:y.qty,price:y.price}))})};return await S.createPOSTransaction({orderPayload:v,items:t}),c().clearCart(),c().fetchCrops(r),!0}catch(v){throw v}finally{s({isLoadingCheckout:!1})}},addCrop:async r=>{try{const a=await S.saveCrop(r);return s(l=>({crops:[a,...l.crops]})),a}catch(a){throw a}},updateCrop:async(r,a)=>{try{const l=await S.saveCrop({id:r,...a});return s(o=>({crops:o.crops.map(t=>t.id===r?l:t)})),l}catch(l){throw l}},deleteCrop:async r=>{try{await S.deleteCrop(r),s(a=>({crops:a.crops.filter(l=>l.id!==r)}))}catch(a){throw a}}})),Ae=({product:s,onEdit:c,onDelete:r})=>{var a,l;const o=s.sku||((l=(a=s.description)==null?void 0:a.match(/Lote:\s*([^\n]+)/))==null?void 0:l[1])||"Sin Lote";return e.jsxs(_,{className:"rounded-2xl overflow-hidden border border-green-100 shadow-sm hover:shadow-lg transition-all group bg-white h-full flex flex-col",children:[e.jsxs("div",{className:"relative h-48 bg-green-50 p-4 flex items-center justify-center",children:[s.image_url?e.jsx("img",{src:s.image_url,alt:s.name,className:"max-h-full max-w-full object-cover rounded-lg"}):e.jsxs("div",{className:"flex flex-col items-center text-green-300",children:[e.jsx(O,{className:"h-12 w-12 mb-2"}),e.jsx("span",{className:"text-xs font-semibold",children:"Sin foto"})]}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-20",children:[e.jsx(g,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full shadow-md bg-white hover:bg-green-50",onClick:t=>{t.stopPropagation(),c(s)},children:e.jsx(be,{className:"h-4 w-4 text-green-700"})}),e.jsx(g,{variant:"destructive",size:"icon",className:"h-8 w-8 rounded-full shadow-md",onClick:t=>{t.stopPropagation(),r(s.id)},children:e.jsx(pe,{className:"h-4 w-4"})})]})]}),e.jsxs(q,{className:"p-4 flex-1 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-start mb-1",children:e.jsx("h3",{className:"font-bold text-slate-900 line-clamp-2 text-lg leading-tight",children:s.name})}),e.jsx("p",{className:"text-xs text-green-600 font-medium mb-1 uppercase tracking-wide",children:s.category||"General"}),e.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["Lote: ",o]})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 pt-2 border-t border-green-50",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Precio / Kg"}),e.jsxs("span",{className:"text-lg font-bold text-slate-900",children:["$",Number(s.price).toLocaleString()]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"Disponible"}),e.jsxs("span",{className:"text-sm font-semibold text-green-700",children:[s.stock," Kg"]})]})]})]})]})},He=()=>{const{crops:s,fetchCrops:c,addCrop:r,updateCrop:a,deleteCrop:l,isLoadingCrops:o}=Y(),{store:t}=fe();p.useState("grid");const[f,v]=p.useState(""),[y,L]=p.useState(!1),[I,R]=p.useState(!1),[M,V]=p.useState(null),[n,N]=p.useState({name:"",price:"",description:"",stock:"1",category:"Verduras",sku:"",image_url:""}),[G,T]=p.useState(null);p.useEffect(()=>{t!=null&&t.id&&c(t.id)},[t==null?void 0:t.id,c]);const A=s.filter(i=>i.name.toLowerCase().includes(f.toLowerCase())),H=()=>{V(null),N({name:"",price:"",description:"",stock:"100",category:"Verduras",sku:"",image_url:""}),T(null),L(!0)},J=i=>{var d,u;V(i);const h=i.sku||((u=(d=i.description)==null?void 0:d.match(/Lote:\s*([^\n]+)/))==null?void 0:u[1])||"",C=i.description?i.description.replace(/\n\nLote:\s*[^\n]+/,""):"";N({name:i.name,price:i.price,description:C,stock:i.stock,category:i.category||"Verduras",sku:h,image_url:i.image_url||""}),T(null),L(!0)},w=i=>{const{name:d,value:u}=i.target;N(h=>({...h,[d]:u}))},Z=i=>{i.target.files&&i.target.files[0]&&T(i.target.files[0])},ee=async(i,d,u)=>{const{error:h,data:C}=await x.storage.from(d).upload(u,i);if(h)throw new Error(`Error al subir imagen: ${h.message}`);const{data:$}=x.storage.from(d).getPublicUrl(C.path);return $.publicUrl},se=async i=>{i.preventDefault(),R(!0);try{let d=n.image_url;if(G&&t!=null&&t.id){const C=G.name.replace(/[^a-zA-Z0-9.]/g,"_"),$=`${t.id}/${Date.now()}_agri_${C}`;d=await ee(G,"product-images",$)}const u=n.sku?`${n.description||""}

Lote: ${n.sku}`:n.description,h={name:n.name,price:parseFloat(n.price),stock:parseInt(n.stock),product_type:"physical",requires_shipping:!0,image_url:d,description:u,category:n.category,sku:n.sku,store_id:t==null?void 0:t.id};M?(await a(M.id,h),k({title:"Cosecha actualizada",description:"Información guardada exitosamente."})):(await r(h),k({title:"Cosecha registrada",description:"Disponible para venta."})),L(!1),V(null),N({name:"",price:"",description:"",stock:"100",category:"Verduras",sku:"",image_url:""})}catch(d){console.error(d),k({title:"Error",description:"No se pudo guardar la información.",variant:"destructive"})}finally{R(!1)}},ae=async i=>{if(window.confirm("¿Confirmas retirar esta cosecha del inventario?"))try{await l(i),k({title:"Cosecha retirada"})}catch{k({title:"Error",description:"No se pudo eliminar.",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 border border-green-100 p-6 rounded-2xl",children:[e.jsxs("h1",{className:"text-3xl font-extrabold text-green-900 flex items-center gap-3",children:[e.jsx(O,{className:"h-8 w-8 text-green-600"}),"Gestión de Cosechas"]}),e.jsx("p",{className:"text-green-700 mt-2",children:"Registra tus cultivos disponibles, asigna lotes y gestiona tu inventario agrícola."})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-2 rounded-2xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(ye,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(b,{placeholder:"Buscar cultivo o lote...",className:"pl-10 bg-gray-50 border-transparent focus:bg-white transition-colors",value:f,onChange:i=>v(i.target.value)})]}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[e.jsxs(K,{defaultValue:"all",onValueChange:i=>console.log(i),children:[e.jsx(U,{className:"w-[150px] rounded-full bg-gray-50 border-transparent",children:e.jsx(B,{placeholder:"Tipo de Cultivo"})}),e.jsxs(Q,{children:[e.jsx(m,{value:"all",children:"Todos"}),e.jsx(m,{value:"Frutas",children:"Frutas"}),e.jsx(m,{value:"Verduras",children:"Verduras"}),e.jsx(m,{value:"Granos",children:"Granos"}),e.jsx(m,{value:"Tuberculos",children:"Tubérculos"})]})]}),e.jsxs(ie,{open:y,onOpenChange:L,children:[e.jsx(le,{asChild:!0,children:e.jsxs(g,{className:"bg-green-600 text-white hover:bg-green-700 rounded-full px-6 shadow-green-200 shadow-lg",onClick:H,children:[e.jsx(oe,{className:"h-4 w-4 mr-2"})," Nueva Cosecha"]})}),e.jsxs(ce,{className:"sm:max-w-[500px]",children:[e.jsx(ne,{children:e.jsx(de,{className:"text-green-900",children:M?"Editar Cosecha":"Registrar Nueva Cosecha"})}),e.jsxs("form",{onSubmit:se,className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"name",children:"Producto / Cultivo"}),e.jsx(b,{id:"name",name:"name",required:!0,value:n.name,onChange:w,placeholder:"Ej: Papa Capira, Tomate Chonto"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"price",children:"Precio por Kg/Unidad"}),e.jsx(b,{id:"price",name:"price",type:"number",required:!0,value:n.price,onChange:w,placeholder:"0.00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"stock",children:"Cantidad Disponible (Kg)"}),e.jsx(b,{id:"stock",name:"stock",type:"number",required:!0,value:n.stock,onChange:w})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"category",children:"Tipo de Cultivo"}),e.jsxs(K,{name:"category",value:n.category,onValueChange:i=>N(d=>({...d,category:i})),children:[e.jsx(U,{children:e.jsx(B,{placeholder:"Seleccione..."})}),e.jsxs(Q,{children:[e.jsx(m,{value:"Frutas",children:"Frutas"}),e.jsx(m,{value:"Verduras",children:"Verduras"}),e.jsx(m,{value:"Granos",children:"Granos"}),e.jsx(m,{value:"Tuberculos",children:"Tubérculos"}),e.jsx(m,{value:"Hierbas",children:"Hierbas / Aromáticas"}),e.jsx(m,{value:"Otro",children:"Otro"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"sku",children:"Lote / Variedad (Opcional)"}),e.jsx(b,{id:"sku",name:"sku",value:n.sku,onChange:w,placeholder:"Ej: Lote A-2024"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"image_upload",children:"Foto del Cultivo"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[n.image_url&&e.jsx("img",{src:n.image_url,alt:"Preview",className:"h-10 w-10 object-cover rounded border"}),e.jsx(b,{id:"image_upload",type:"file",accept:"image/*",onChange:Z})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(j,{htmlFor:"description",children:"Descripción Adicional"}),e.jsx(je,{id:"description",name:"description",value:n.description,onChange:w,rows:3,placeholder:"Detalles sobre la calidad, fecha de cosecha, etc."})]}),e.jsx(g,{type:"submit",className:"w-full bg-green-600 text-white hover:bg-green-700 font-bold",disabled:I,children:I?e.jsx(me,{className:"h-4 w-4 animate-spin"}):M?"Guardar Cambios":"Registrar Cosecha"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[A.map(i=>e.jsx("div",{className:"relative group h-full",children:e.jsx(Ae,{product:{...i,discount:0},onEdit:J,onDelete:ae})},i.id)),A.length===0&&e.jsxs("div",{className:"col-span-full py-12 text-center bg-gray-50 rounded-xl border-dashed border-2 border-gray-200",children:[e.jsx(O,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-500 font-medium",children:"No has registrado ninguna cosecha aún."}),e.jsx(g,{variant:"link",onClick:H,className:"text-green-600",children:"Registrar mi primera cosecha"})]})]})]})},Ke=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-blue-50 border border-blue-100 p-6 rounded-2xl",children:[e.jsxs("h1",{className:"text-3xl font-extrabold text-blue-900 flex items-center gap-3",children:[e.jsx(X,{className:"h-8 w-8 text-blue-600"}),"Logística y Envíos"]}),e.jsx("p",{className:"text-blue-700 mt-2",children:"Gestiona el despacho de tus cosechas, genera guías de transporte y rastrea envíos."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(_,{className:"bg-white border-blue-100 shadow-sm",children:[e.jsxs(P,{className:"pb-2",children:[e.jsx(F,{className:"text-sm font-medium text-gray-500",children:"Pedidos por Despachar"}),e.jsx("div",{className:"text-3xl font-bold text-slate-800",children:"12"})]}),e.jsx(q,{children:e.jsxs("div",{className:"text-xs text-blue-600 flex items-center mt-1",children:[e.jsx(Ce,{className:"h-3 w-3 mr-1"}),"3 urgentes para hoy"]})})]}),e.jsxs(_,{className:"bg-white border-blue-100 shadow-sm",children:[e.jsxs(P,{className:"pb-2",children:[e.jsx(F,{className:"text-sm font-medium text-gray-500",children:"En Tránsito"}),e.jsx("div",{className:"text-3xl font-bold text-slate-800",children:"5"})]}),e.jsx(q,{children:e.jsxs("div",{className:"text-xs text-green-600 flex items-center mt-1",children:[e.jsx(ke,{className:"h-3 w-3 mr-1"}),"Llegada estimada: Hoy"]})})]}),e.jsxs(_,{className:"bg-white border-blue-100 shadow-sm",children:[e.jsxs(P,{className:"pb-2",children:[e.jsx(F,{className:"text-sm font-medium text-gray-500",children:"Costo Logístico (Mes)"}),e.jsx("div",{className:"text-3xl font-bold text-slate-800",children:"$1.2M"})]}),e.jsx(q,{children:e.jsx("div",{className:"text-xs text-gray-500 flex items-center mt-1",children:"Promedio $15.000 / envío"})})]})]}),e.jsxs(_,{className:"border-gray-200",children:[e.jsxs(P,{children:[e.jsx(F,{children:"Operación Logística"}),e.jsx(he,{children:"Conexión directa con transportadoras y SIPOST"})]}),e.jsx(q,{children:e.jsxs(Ne,{defaultValue:"pending",className:"w-full",children:[e.jsxs(we,{className:"grid w-full grid-cols-3 mb-4",children:[e.jsx(D,{value:"pending",children:"Pendientes de Guía"}),e.jsx(D,{value:"guides",children:"Guías Generadas"}),e.jsx(D,{value:"config",children:"Configuración Tarifa"})]}),e.jsx(z,{value:"pending",className:"space-y-4",children:e.jsxs("div",{className:"rounded-md border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 p-3 text-sm font-medium text-gray-700 grid grid-cols-4",children:[e.jsx("span",{children:"Pedido"}),e.jsx("span",{children:"Destino"}),e.jsx("span",{children:"Peso Est."}),e.jsx("span",{children:"Acción"})]}),e.jsxs("div",{className:"p-3 text-sm text-gray-600 grid grid-cols-4 items-center border-t border-gray-50 hover:bg-gray-50",children:[e.jsx("span",{className:"font-bold",children:"#ORD-001"}),e.jsx("span",{children:"Medellín, Pob..."}),e.jsx("span",{children:"50 Kg"}),e.jsx(g,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 h-8",children:"Generar Guía"})]}),e.jsxs("div",{className:"p-3 text-sm text-gray-600 grid grid-cols-4 items-center border-t border-gray-50 hover:bg-gray-50",children:[e.jsx("span",{className:"font-bold",children:"#ORD-003"}),e.jsx("span",{children:"Rionegro, Cen..."}),e.jsx("span",{children:"120 Kg"}),e.jsx(g,{size:"sm",className:"bg-blue-600 hover:bg-blue-700 h-8",children:"Generar Guía"})]})]})}),e.jsx(z,{value:"guides",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-400",children:[e.jsx(_e,{className:"h-12 w-12 mb-2 opacity-50"}),e.jsx("p",{children:"No hay guías generadas recientemente"})]})}),e.jsx(z,{value:"config",children:e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-100 text-yellow-800 text-sm flex items-start gap-3",children:[e.jsx(Ee,{className:"h-5 w-5 mt-0.5"}),e.jsxs("div",{children:[e.jsx("strong",{children:"Integración SIPOST no configurada"}),e.jsx("p",{className:"mt-1",children:"Para habilitar la generación automática de guías, debes conectar tu cuenta de SIPOST o Transportadora aliada."}),e.jsx(g,{variant:"outline",size:"sm",className:"mt-2 bg-yellow-100 border-yellow-200 hover:bg-yellow-200 text-yellow-900",children:"Conectar ahora"})]})]})})]})})]})]}),Ms=p.memo(({store:s})=>{const c=[{path:"",label:"Admin Finca",icon:xe,element:e.jsx(ge,{storeId:s.id})},{path:"caja",label:"Caja (Venta Directa)",icon:Oe,element:e.jsx(ve,{useStore:Y,title:"Finca - Venta Directa"})},{path:"cosechas",label:"Cosechas",icon:O,element:e.jsx(He,{})},{path:"logistica",label:"Logística / Envíos",icon:X,element:e.jsx(Ke,{})},{path:"pedidos",label:"Pedidos Marketplace",icon:te,element:e.jsx(qe,{storeId:s.id})},{path:"clientes",label:"Clientes",icon:W,element:e.jsx(Pe,{})},{path:"trazabilidad",label:"Trazabilidad (QR)",icon:Re,element:e.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Módulo de Trazabilidad y QR en desarrollo..."})},{path:"importar",label:"Importar",icon:Ve,element:e.jsx(Se,{storeId:s.id,onProductsUploaded:()=>{}})},{path:"clima",label:"Clima",icon:De,element:e.jsx("div",{className:"p-8 text-center text-muted-foreground",children:"Módulo de clima en desarrollo..."})},{path:"finanzas",label:"Finanzas",icon:Ge,element:e.jsx(Le,{storeId:s.id})},{path:"equipo",label:"Trabajadores",icon:W,element:e.jsx(Me,{storeId:s.id})},{path:"configuracion",label:"Configuración",icon:Te,element:e.jsx(Fe,{})}];return e.jsx(ue,{store:s,tabs:c})});export{Ms as default};
