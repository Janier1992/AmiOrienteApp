import{l as M,r as m,j as e,B as h,D as W,I as Y,P as H,v as ee,z as ae,E as se,f as te,C as re,T as G,c as le,t as j,k as $,o as oe,Q as ie,M as ce,R as z,_ as O}from"./index-dc7f1cf1.js";import{L as ne,B as de}from"./BaseStoreDashboard-309f7a6b.js";import{I as g}from"./input-d4c7e221.js";import{S as me,a as he,b as xe,c as ue,d as U}from"./select-37a35d51.js";import{L as b}from"./label-21562bd6.js";import{T as pe}from"./textarea-385c103a.js";import{useStoreDashboard as R}from"./useStoreDashboard-8587e03d.js";import{S as Q}from"./search-3987990a.js";import{F as ge}from"./file-image-ec7dbdb2.js";import{P as fe}from"./pencil-d18f2cb4.js";import{B as je}from"./badge-1d2a7dc0.js";import{S as B}from"./shopping-cart-2f35db45.js";import{C as ye}from"./credit-card-0c959c84.js";import{C as ve}from"./circle-x-29b65efc.js";import{S as be,a as Ne}from"./StoreCustomersTab-b6077f3d.js";import{w as we}from"./withStoreCategory-7467d9f5.js";import{P as ke}from"./package-e8519bdc.js";import{U as Ce}from"./upload-28ac7450.js";import{D as Se,S as _e}from"./settings-32dd1f84.js";import{U as K}from"./users-f825be4c.js";import"./Helmet-4b27b46c.js";import"./log-out-92be1f5b.js";import"./index-b2f4b39b.js";import"./triangle-alert-32ee3fb6.js";import"./check-0c83caba.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Ee=M("banknote",Pe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Le=M("folder-open",Te);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],De=M("grid-3x3",Me);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Oe=M("list",ze);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]],qe=M("package-open",Ie);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Ae=M("printer",$e),Fe=({product:t,onEdit:d,onDelete:l})=>{var c,s;const o=t.sku||((s=(c=t.description)==null?void 0:c.match(/SKU:\s*([^\n]+)/))==null?void 0:s[1])||"N/A";return e.jsxs(re,{className:"rounded-3xl overflow-hidden border-none shadow-sm hover:shadow-md transition-shadow group bg-white h-full flex flex-col",children:[e.jsxs("div",{className:"relative h-48 bg-gray-100 p-4 flex items-center justify-center",children:[t.discount>0&&e.jsxs("span",{className:"absolute top-4 right-4 bg-yellow-400 text-black text-xs font-bold px-2 py-1 rounded-full z-10",children:["-",t.discount,"%"]}),t.image_url?e.jsx("img",{src:t.image_url,alt:t.name,className:"max-h-full max-w-full object-contain mix-blend-multiply"}):e.jsxs("div",{className:"flex flex-col items-center text-gray-400",children:[e.jsx(ge,{className:"h-10 w-10 mb-2"}),e.jsx("span",{className:"text-xs",children:"Sin imagen"})]}),e.jsxs("div",{className:"absolute top-2 right-2 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-20",children:[e.jsx(h,{variant:"secondary",size:"icon",className:"h-8 w-8 rounded-full shadow-md bg-white hover:bg-gray-100",onClick:n=>{n.stopPropagation(),d(t)},children:e.jsx(fe,{className:"h-4 w-4 text-blue-600"})}),e.jsx(h,{variant:"destructive",size:"icon",className:"h-8 w-8 rounded-full shadow-md",onClick:n=>{n.stopPropagation(),l(t.id)},children:e.jsx(G,{className:"h-4 w-4"})})]})]}),e.jsxs(le,{className:"p-4 flex-1 flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-start mb-1",children:e.jsx("h3",{className:"font-bold text-slate-900 line-clamp-2 text-md leading-tight",children:t.name})}),e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Papelería • SKU: ",o]})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs("span",{className:"text-lg font-bold text-slate-900",children:["$",Number(t.price).toLocaleString()]}),t.discount>0&&e.jsxs("span",{className:"text-sm text-gray-400 line-through",children:["$",(t.price*(1+t.discount/100)).toLocaleString()]})]})]})]})},Ve=()=>{const{products:t,fetchProducts:d,addProduct:l,updateProduct:o,deleteProduct:c,store:s}=R(),[n,f]=m.useState("grid"),[u,D]=m.useState(""),[A,N]=m.useState(!1),[w,k]=m.useState(!1),[y,C]=m.useState(null),[i,S]=m.useState({name:"",price:"",description:"",stock:"1",category:"Office",sku:"",image_url:""}),[_,P]=m.useState(null);m.useEffect(()=>{s!=null&&s.id&&d(s.id)},[s==null?void 0:s.id,d]);const I=t.filter(r=>r.name.toLowerCase().includes(u.toLowerCase())),F=()=>{C(null),S({name:"",price:"",description:"",stock:"1",category:"Office",sku:"",image_url:""}),P(null),N(!0)},q=r=>{var p,L;C(r);const x=r.sku||((L=(p=r.description)==null?void 0:p.match(/SKU:\s*([^\n]+)/))==null?void 0:L[1])||"",v=r.description?r.description.replace(/\n\nSKU:\s*[^\n]+/,""):"";S({name:r.name,price:r.price,description:v,stock:r.stock,category:r.category||"Office",sku:x,image_url:r.image_url||""}),P(null),N(!0)},a=r=>{const{name:x,value:v}=r.target;S(p=>({...p,[x]:v}))},E=r=>{r.target.files&&r.target.files[0]&&P(r.target.files[0])},T=async(r,x,v)=>{const{error:p,data:L}=await $.storage.from(x).upload(v,r);if(p)throw new Error(`Error al subir archivo: ${p.message}`);const{data:V}=$.storage.from(x).getPublicUrl(L.path);return V.publicUrl},X=async r=>{r.preventDefault(),k(!0);try{let x=i.image_url;if(_&&(s!=null&&s.id)){const L=_.name.replace(/[^a-zA-Z0-9.]/g,"_"),V=`${s.id}/${Date.now()}_${L}`;x=await T(_,"product-images",V)}const v=i.sku?`${i.description||""}

SKU: ${i.sku}`:i.description,p={name:i.name,price:parseFloat(i.price),stock:parseInt(i.stock),product_type:"physical",requires_shipping:!0,image_url:x,description:v,store_id:s==null?void 0:s.id};y?(await o(y.id,p),j({title:"Producto actualizado",description:"Los cambios se han guardado."})):(await l(p),j({title:"Producto creado",description:"El producto se ha añadido correctamente."})),N(!1),C(null),S({name:"",price:"",description:"",stock:"1",category:"Office",sku:"",image_url:""}),P(null)}catch(x){console.error(x),j({title:"Error",description:x.message||"Error al guardar producto",variant:"destructive"})}finally{k(!1)}},Z=async r=>{if(window.confirm("¿Seguro que deseas eliminar este producto?"))try{await c(r),j({title:"Producto eliminado"})}catch{j({title:"Error",description:"No se pudo eliminar.",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-extrabold text-slate-900",children:"Inventario de Productos"}),e.jsx("p",{className:"text-gray-500",children:"Gestiona tu catálogo, precios y descuentos activos."})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4 bg-white p-2 rounded-2xl shadow-sm border border-gray-100",children:[e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(g,{placeholder:"Buscar por nombre, SKU o categoría...",className:"pl-10 bg-gray-50 border-transparent focus:bg-white transition-colors",value:u,onChange:r=>D(r.target.value)})]}),e.jsxs("div",{className:"flex gap-2 w-full md:w-auto overflow-x-auto pb-2 md:pb-0",children:[e.jsxs(me,{defaultValue:"all",children:[e.jsx(he,{className:"w-[130px] rounded-full bg-gray-50 border-transparent",children:e.jsx(xe,{placeholder:"Categoría"})}),e.jsxs(ue,{children:[e.jsx(U,{value:"all",children:"Categoría"}),e.jsx(U,{value:"office",children:"Oficina"}),e.jsx(U,{value:"school",children:"Escolar"})]})]}),e.jsxs("div",{className:"flex bg-gray-50 rounded-full p-1 border border-gray-100",children:[e.jsx(h,{variant:"ghost",size:"icon",className:`rounded-full h-8 w-8 ${n==="grid"?"bg-white shadow-sm":""}`,onClick:()=>f("grid"),children:e.jsx(De,{className:"h-4 w-4"})}),e.jsx(h,{variant:"ghost",size:"icon",className:`rounded-full h-8 w-8 ${n==="list"?"bg-white shadow-sm":""}`,onClick:()=>f("list"),children:e.jsx(Oe,{className:"h-4 w-4"})})]})]}),e.jsxs(W,{open:A,onOpenChange:N,children:[e.jsx(Y,{asChild:!0,children:e.jsxs(h,{className:"bg-black text-white hover:bg-gray-800 rounded-full px-6",onClick:F,children:[e.jsx(H,{className:"h-4 w-4 mr-2"})," Añadir Producto"]})}),e.jsxs(ee,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[e.jsx(ae,{children:e.jsx(se,{children:y?"Editar Producto":"Agregar Nuevo Producto"})}),e.jsxs("form",{onSubmit:X,className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"name",children:"Nombre del Producto"}),e.jsx(g,{id:"name",name:"name",required:!0,value:i.name,onChange:a,placeholder:"Ej: Cuaderno Norma"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"price",children:"Precio"}),e.jsx(g,{id:"price",name:"price",type:"number",required:!0,value:i.price,onChange:a,placeholder:"0.00"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"stock",children:"Stock"}),e.jsx(g,{id:"stock",name:"stock",type:"number",required:!0,value:i.stock,onChange:a})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"category",children:"Categoría"}),e.jsx(g,{id:"category",name:"category",value:i.category,onChange:a})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"sku",children:"SKU (Opcional)"}),e.jsx(g,{id:"sku",name:"sku",value:i.sku,onChange:a,placeholder:"COD-001"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"image_upload",children:"Imagen"}),e.jsxs("div",{className:"flex gap-2 items-center",children:[i.image_url&&e.jsx("img",{src:i.image_url,alt:"Preview",className:"h-10 w-10 object-cover rounded border"}),e.jsx(g,{id:"image_upload",type:"file",accept:"image/*",onChange:E})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"description",children:"Descripción"}),e.jsx(pe,{id:"description",name:"description",value:i.description,onChange:a,rows:3})]}),e.jsx(h,{type:"submit",className:"w-full bg-yellow-400 text-black hover:bg-yellow-500 font-bold",disabled:w,children:w?e.jsx(te,{className:"h-4 w-4 animate-spin"}):y?"Guardar Cambios":"Guardar Producto"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6",children:[I.map(r=>e.jsx("div",{className:"relative group h-full",children:e.jsx(Fe,{product:{...r,discount:0},onEdit:q,onDelete:Z})},r.id)),I.length===0&&e.jsx("div",{className:"col-span-full py-12 text-center text-gray-400",children:"No se encontraron productos. Añade uno nuevo para empezar."})]})]})},J=m.forwardRef(({className:t,children:d,...l},o)=>e.jsx("div",{ref:o,className:oe("relative overflow-auto",t),...l,children:d}));J.displayName="ScrollArea";const Ue={async createPOSTransaction(t){const{orderPayload:d,items:l}=t,{data:o,error:c}=await $.from("orders").insert(d).select().single();if(c)throw c;for(const s of l){const n=Math.max(0,s.stock-s.qty);await $.from("products").update({stock:n}).eq("id",s.id)}return o}},Be=ie((t,d)=>({cart:[],isLoadingCheckout:!1,addToCart:l=>{const o=d().cart,c=o.find(s=>s.id===l.id);if(c){if(c.qty>=l.stock)return!1;t({cart:o.map(s=>s.id===l.id?{...s,qty:s.qty+1}:s)})}else t({cart:[...o,{...l,qty:1}]});return!0},removeFromCart:l=>{t(o=>({cart:o.cart.filter(c=>c.id!==l)}))},updateCartQty:(l,o)=>{t(c=>({cart:c.cart.map(s=>{if(s.id===l){const n=Math.max(1,s.qty+o);return o>0&&n>s.stock?s:{...s,qty:n}}return s})}))},clearCart:()=>t({cart:[]}),processCheckout:async(l,o,c,s)=>{const n=d().cart;if(n.length!==0){t({isLoadingCheckout:!0});try{const f={store_id:l,customer_id:null,status:"Entregado",total:s,delivery_address:JSON.stringify({guest:{name:o,method:c,type:"POS"},items:n.map(u=>({id:u.id,name:u.name,qty:u.qty,price:u.price}))})};return await Ue.createPOSTransaction({orderPayload:f,items:n}),d().clearCart(),R.getState().fetchProducts(l,!0),!0}catch(f){throw f}finally{t({isLoadingCheckout:!1})}}}})),Re=()=>{const{products:t,fetchProducts:d,store:l}=R(),{cart:o,addToCart:c,removeFromCart:s,updateCartQty:n,processCheckout:f,isLoadingCheckout:u}=Be(),[D,A]=m.useState(""),[N,w]=m.useState(!1),[k,y]=m.useState("Efectivo"),[C,i]=m.useState("Cliente Mostrador");m.useEffect(()=>{l!=null&&l.id&&d(l.id)},[l==null?void 0:l.id]);const{subtotal:S,total:_,itemCount:P}=m.useMemo(()=>{const a=o.reduce((E,T)=>E+T.price*T.qty,0);return{subtotal:a,total:a,itemCount:o.reduce((E,T)=>E+T.qty,0)}},[o]),I=a=>{c(a)||j({title:"Stock insuficiente",variant:"destructive"})},F=async()=>{try{await f(l.id,C,k,_),j({title:"Venta registrada exitosamente"}),w(!1),i("Cliente Mostrador")}catch(a){console.error(a),j({title:"Error en venta",description:a.message,variant:"destructive"})}},q=t.filter(a=>a.name.toLowerCase().includes(D.toLowerCase())||a.sku&&a.sku.includes(D));return e.jsxs("div",{className:"flex flex-col lg:flex-row h-[calc(100vh-140px)] gap-4",children:[e.jsxs("div",{className:"flex-1 flex flex-col min-h-0 bg-slate-50 border rounded-xl overflow-hidden",children:[e.jsx("div",{className:"p-4 bg-white border-b flex gap-3",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(g,{placeholder:"Buscar productos (Nombre, SKU)...",className:"pl-9 bg-gray-100 border-none",value:D,onChange:a=>A(a.target.value),autoFocus:!0})]})}),e.jsxs(J,{className:"flex-1 p-4",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:q.map(a=>e.jsxs("div",{className:`
                                    group relative bg-white border rounded-xl p-3 shadow-sm hover:shadow-md transition-all cursor-pointer select-none
                                    ${a.stock<=0?"opacity-50 grayscale":"hover:border-yellow-400"}
                                `,onClick:()=>a.stock>0&&I(a),children:[e.jsx("div",{className:"h-24 bg-gray-100 rounded-lg mb-2 flex items-center justify-center overflow-hidden",children:a.image_url?e.jsx("img",{src:a.image_url,alt:"",className:"w-full h-full object-cover"}):e.jsx(qe,{className:"text-gray-300 h-8 w-8"})}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"font-semibold text-sm leading-tight line-clamp-2 min-h-[2.5em]",children:a.name}),e.jsxs("div",{className:"flex justify-between items-center text-xs",children:[e.jsxs("span",{className:"bg-gray-100 px-1.5 py-0.5 rounded text-gray-600 font-mono",children:[a.stock," un."]}),e.jsxs("span",{className:"font-bold text-slate-900 text-sm",children:["$",Number(a.price).toLocaleString()]})]})]}),a.stock<=0&&e.jsx("div",{className:"absolute inset-0 bg-white/60 flex items-center justify-center",children:e.jsx("span",{className:"bg-red-100 text-red-700 text-xs font-bold px-2 py-1 rounded",children:"Agotado"})})]},a.id))}),q.length===0&&e.jsx("div",{className:"text-center py-10 text-gray-400",children:"No se encontraron productos"})]})]}),e.jsxs("div",{className:"w-full lg:w-[400px] bg-white border rounded-xl flex flex-col shadow-lg",children:[e.jsxs("div",{className:"p-4 border-b bg-yellow-400/10 flex items-center justify-between",children:[e.jsxs("h2",{className:"font-bold text-lg flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5 text-yellow-600"}),"Ticket de Venta"]}),e.jsxs(je,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:[P," Ítems"]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-2 space-y-2",children:[o.map(a=>e.jsxs("div",{className:"flex gap-3 items-center p-2 rounded-lg hover:bg-slate-50 border border-transparent hover:border-slate-100 group",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:a.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",Number(a.price).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-gray-50 rounded-lg p-1",children:[e.jsx(h,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>n(a.id,-1),children:e.jsx(ce,{className:"h-3 w-3"})}),e.jsx("span",{className:"w-6 text-center text-sm font-mono",children:a.qty}),e.jsx(h,{size:"icon",variant:"ghost",className:"h-6 w-6",onClick:()=>n(a.id,1),children:e.jsx(H,{className:"h-3 w-3"})})]}),e.jsx("div",{className:"text-right min-w-[60px]",children:e.jsxs("p",{className:"font-bold text-sm text-slate-700",children:["$",(a.price*a.qty).toLocaleString()]})}),e.jsx(h,{size:"icon",variant:"ghost",className:"h-6 w-6 text-red-400 opacity-0 group-hover:opacity-100 hover:text-red-600",onClick:()=>s(a.id),children:e.jsx(G,{className:"h-3 w-3"})})]},a.id)),o.length===0&&e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-gray-400 space-y-2",children:[e.jsx(B,{className:"h-12 w-12 opacity-20"}),e.jsx("p",{className:"text-sm",children:"Ticket vacío"}),e.jsx("p",{className:"text-xs text-gray-300 px-8 text-center",children:"Selecciona productos del inventario para iniciar una venta."})]})]}),e.jsxs("div",{className:"p-4 bg-slate-50 border-t space-y-4",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-500",children:[e.jsx("span",{children:"Subtotal"}),e.jsxs("span",{children:["$",S.toLocaleString()]})]}),e.jsxs("div",{className:"flex justify-between text-xl font-bold text-slate-900 pt-2 border-t border-dashed border-gray-300",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",_.toLocaleString()]})]})]}),N?e.jsxs("div",{className:"space-y-3 animate-in slide-in-from-bottom-4 duration-300",children:[e.jsx(g,{placeholder:"Nombre Cliente (Opcional)",value:C,onChange:a=>i(a.target.value),className:"bg-white"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs(h,{variant:k==="Efectivo"?"default":"outline",onClick:()=>y("Efectivo"),className:"w-full justify-start gap-2",children:[e.jsx(Ee,{className:"h-4 w-4"})," Efectivo"]}),e.jsxs(h,{variant:k==="Tarjeta"?"default":"outline",onClick:()=>y("Tarjeta"),className:"w-full justify-start gap-2",children:[e.jsx(ye,{className:"h-4 w-4"})," Tarjeta"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(h,{variant:"outline",className:"flex-1",onClick:()=>w(!1),children:[e.jsx(ve,{className:"h-4 w-4 mr-2"})," Cancelar"]}),e.jsxs(h,{className:"flex-[2] bg-green-600 hover:bg-green-700",onClick:F,disabled:u,children:[e.jsx(Ae,{className:"h-4 w-4 mr-2"})," ",u?"Procesando...":"Confirmar Venta"]})]})]}):e.jsx(h,{className:"w-full bg-slate-900 hover:bg-slate-800 text-white h-12 text-lg font-bold shadow-md",disabled:o.length===0,onClick:()=>w(!0),children:"Cobrar"})]})]})]})},Ke=z.lazy(()=>O(()=>import("./OverviewTab-c3d5933b.js"),["assets/OverviewTab-c3d5933b.js","assets/index-dc7f1cf1.js","assets/index-8ba32985.css","assets/useStoreDashboard-8587e03d.js","assets/index-b2f4b39b.js","assets/triangle-alert-32ee3fb6.js","assets/settings-32dd1f84.js","assets/package-e8519bdc.js","assets/trending-up-9f29547c.js"])),He=z.lazy(()=>O(()=>import("./OrdersTab-6c4e970e.js"),["assets/OrdersTab-6c4e970e.js","assets/index-dc7f1cf1.js","assets/index-8ba32985.css","assets/badge-1d2a7dc0.js","assets/select-37a35d51.js","assets/check-0c83caba.js","assets/useStoreDashboard-8587e03d.js","assets/index-b2f4b39b.js","assets/triangle-alert-32ee3fb6.js","assets/package-e8519bdc.js","assets/clock-8175ed76.js","assets/truck-044bfd35.js","assets/map-pin-10c801f4.js"])),Ge=z.lazy(()=>O(()=>import("./AdminTab-6fbdbfb1.js"),["assets/AdminTab-6fbdbfb1.js","assets/index-dc7f1cf1.js","assets/index-8ba32985.css","assets/user-plus-feae870f.js","assets/users-f825be4c.js"])),Qe=z.lazy(()=>O(()=>import("./BulkUploadTab-e757db06.js"),["assets/BulkUploadTab-e757db06.js","assets/index-dc7f1cf1.js","assets/index-8ba32985.css","assets/upload-28ac7450.js","assets/circle-alert-927ef83a.js"])),Je=z.lazy(()=>O(()=>import("./FinancialsTab-63001316.js"),["assets/FinancialsTab-63001316.js","assets/index-dc7f1cf1.js","assets/index-8ba32985.css","assets/useStoreDashboard-8587e03d.js","assets/index-b2f4b39b.js","assets/triangle-alert-32ee3fb6.js","assets/settings-32dd1f84.js","assets/trending-up-9f29547c.js","assets/credit-card-0c959c84.js","assets/circle-alert-927ef83a.js"])),Xe=({store:t})=>{const d=[{path:"",label:"Resumen",icon:ne,element:e.jsx(Ke,{storeId:t.id})},{path:"caja",label:"Caja / Ventas",icon:B,element:e.jsx(Re,{})},{path:"pedidos",label:"Historial Pedidos",icon:ke,element:e.jsx(He,{storeId:t.id})},{path:"productos",label:"Inventario",icon:Le,element:e.jsx(Ve,{})},{path:"importar",label:"Importar",icon:Ce,element:e.jsx(Qe,{storeId:t.id})},{path:"finanzas",label:"Finanzas",icon:Se,element:e.jsx(Je,{storeId:t.id})},{path:"equipo",label:"Equipo",icon:K,element:e.jsx(Ge,{storeId:t.id})},{path:"clientes",label:"Clientes",icon:K,element:e.jsx(be,{})},{path:"configuracion",label:"Configuración",icon:_e,element:e.jsx(Ne,{})}];return e.jsx(de,{store:t,tabs:d,title:"Papelería Admin"})},Na=we(Xe,["Papelería","Papeleria"]);export{Na as default};
