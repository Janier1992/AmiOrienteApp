var D=Object.defineProperty;var E=(t,a,r)=>a in t?D(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;var u=(t,a,r)=>(E(t,typeof a!="symbol"?a+"":a,r),r);import{j as e,h as m,b as N,R as o,B as i,_ as n,l as w,g as R,r as S}from"./index-4020e339.js";import{useStoreDashboard as h}from"./useStoreDashboard-092a1cc0.js";import{T as C}from"./triangle-alert-30e3235d.js";const x=({className:t,size:a="default",text:r})=>{const s={sm:"h-4 w-4",default:"h-8 w-8",lg:"h-12 w-12"};return e.jsxs("div",{className:m("flex flex-col items-center justify-center p-6 rounded-lg",t),children:[e.jsx(N,{className:m("animate-spin text-primary mb-3",s[a])}),r&&e.jsx("p",{className:"text-sm font-medium text-muted-foreground animate-pulse",children:r})]})};class L extends o.Component{constructor(r){super(r);u(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("Uncaught error:",r,s)}render(){return this.state.hasError?e.jsxs("div",{className:"min-h-[400px] flex flex-col items-center justify-center p-6 text-center bg-slate-50 rounded-lg border-2 border-dashed border-red-200 m-4",children:[e.jsx("div",{className:"bg-red-100 p-4 rounded-full mb-4",children:e.jsx(C,{className:"h-8 w-8 text-red-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Algo salió mal"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:"Ha ocurrido un error inesperado en este componente. Por favor intenta recargar."}),e.jsx(i,{onClick:this.handleReset,variant:"destructive",children:"Recargar Página"}),!1]}):this.props.children}}const P=o.lazy(()=>n(()=>import("./RestaurantDashboard-283b793d.js"),["assets/RestaurantDashboard-283b793d.js","assets/index-4020e339.js","assets/index-cf56b884.css","assets/BulkUploadTab-c21a8eac.js","assets/card-cc9cfd5e.js","assets/upload-c1efbb4a.js","assets/circle-alert-dc75c245.js","assets/BaseStoreDashboard-0e39fc73.js","assets/Helmet-966781f7.js","assets/log-out-30241d86.js","assets/badge-54788017.js","assets/RestaurantMenuView-fbfc9608.js","assets/input-72252c3d.js","assets/select-31cdb233.js","assets/check-8b5d22b0.js","assets/dialog-d2829896.js","assets/label-dfea19c8.js","assets/textarea-6e954f6a.js","assets/switch-8c959075.js","assets/index-cb56a7ed.js","assets/useStoreDashboard-092a1cc0.js","assets/search-90c48c54.js","assets/utensils-crossed-39989e4e.js","assets/pencil-5a5480e6.js","assets/settings-3a739b87.js","assets/users-dec98a74.js","assets/triangle-alert-30e3235d.js"])),A=o.lazy(()=>n(()=>import("./HotelDashboard-73007b15.js"),["assets/HotelDashboard-73007b15.js","assets/index-4020e339.js","assets/index-cf56b884.css","assets/BaseStoreDashboard-0e39fc73.js","assets/Helmet-966781f7.js","assets/log-out-30241d86.js","assets/card-cc9cfd5e.js","assets/tabs-2dacb097.js","assets/circle-check-big-56bcfc57.js","assets/clock-f4d06a64.js","assets/input-72252c3d.js","assets/label-dfea19c8.js","assets/select-31cdb233.js","assets/check-8b5d22b0.js","assets/badge-54788017.js","assets/search-90c48c54.js","assets/credit-card-bea94bde.js","assets/FinancialsTab-ae36bb23.js","assets/useStoreDashboard-092a1cc0.js","assets/settings-3a739b87.js","assets/trending-up-36728e9d.js","assets/circle-alert-dc75c245.js","assets/triangle-alert-30e3235d.js","assets/StoreCustomersTab-f7a15481.js","assets/users-dec98a74.js","assets/withStoreCategory-fe901fe2.js","assets/bed-double-7b7d0423.js"])),g=o.lazy(()=>n(()=>import("./ClothingStoreDashboard-4c511ea7.js"),["assets/ClothingStoreDashboard-4c511ea7.js","assets/index-4020e339.js","assets/index-cf56b884.css","assets/BaseStoreDashboard-0e39fc73.js","assets/Helmet-966781f7.js","assets/log-out-30241d86.js","assets/OverviewTab-30ffe364.js","assets/card-cc9cfd5e.js","assets/useStoreDashboard-092a1cc0.js","assets/settings-3a739b87.js","assets/package-1cc03608.js","assets/trending-up-36728e9d.js","assets/triangle-alert-30e3235d.js","assets/input-72252c3d.js","assets/select-31cdb233.js","assets/check-8b5d22b0.js","assets/dialog-d2829896.js","assets/label-dfea19c8.js","assets/textarea-6e954f6a.js","assets/badge-54788017.js","assets/search-90c48c54.js","assets/shirt-4e2f3705.js","assets/pencil-5a5480e6.js","assets/OrdersTab-e6190215.js","assets/clock-f4d06a64.js","assets/truck-45a9dcb6.js","assets/map-pin-865d1b33.js","assets/FinancialsTab-ae36bb23.js","assets/credit-card-bea94bde.js","assets/circle-alert-dc75c245.js","assets/StoreCustomersTab-f7a15481.js","assets/users-dec98a74.js"])),O=o.lazy(()=>n(()=>import("./PharmacyDashboard-421eb722.js"),["assets/PharmacyDashboard-421eb722.js","assets/index-4020e339.js","assets/index-cf56b884.css","assets/BaseStoreDashboard-0e39fc73.js","assets/Helmet-966781f7.js","assets/log-out-30241d86.js","assets/OverviewTab-30ffe364.js","assets/card-cc9cfd5e.js","assets/useStoreDashboard-092a1cc0.js","assets/settings-3a739b87.js","assets/package-1cc03608.js","assets/trending-up-36728e9d.js","assets/triangle-alert-30e3235d.js","assets/input-72252c3d.js","assets/select-31cdb233.js","assets/check-8b5d22b0.js","assets/dialog-d2829896.js","assets/label-dfea19c8.js","assets/textarea-6e954f6a.js","assets/switch-8c959075.js","assets/index-cb56a7ed.js","assets/badge-54788017.js","assets/pill-cf0dd8f6.js","assets/pencil-5a5480e6.js","assets/OrdersTab-e6190215.js","assets/clock-f4d06a64.js","assets/truck-45a9dcb6.js","assets/map-pin-865d1b33.js","assets/BulkUploadTab-c21a8eac.js","assets/upload-c1efbb4a.js","assets/circle-alert-dc75c245.js","assets/FinancialsTab-ae36bb23.js","assets/credit-card-bea94bde.js","assets/AdminTab-a5eee867.js","assets/user-plus-36b776d9.js","assets/users-dec98a74.js","assets/StoreCustomersTab-f7a15481.js"])),p=o.lazy(()=>n(()=>import("./BakeryDashboard-a6d41af9.js"),["assets/BakeryDashboard-a6d41af9.js","assets/index-4020e339.js","assets/index-cf56b884.css","assets/BaseStoreDashboard-0e39fc73.js","assets/Helmet-966781f7.js","assets/log-out-30241d86.js","assets/OverviewTab-30ffe364.js","assets/card-cc9cfd5e.js","assets/useStoreDashboard-092a1cc0.js","assets/settings-3a739b87.js","assets/package-1cc03608.js","assets/trending-up-36728e9d.js","assets/triangle-alert-30e3235d.js","assets/RestaurantMenuView-fbfc9608.js","assets/input-72252c3d.js","assets/select-31cdb233.js","assets/check-8b5d22b0.js","assets/dialog-d2829896.js","assets/label-dfea19c8.js","assets/textarea-6e954f6a.js","assets/switch-8c959075.js","assets/index-cb56a7ed.js","assets/badge-54788017.js","assets/search-90c48c54.js","assets/utensils-crossed-39989e4e.js","assets/pencil-5a5480e6.js","assets/OrdersTab-e6190215.js","assets/clock-f4d06a64.js","assets/truck-45a9dcb6.js","assets/map-pin-865d1b33.js","assets/BulkUploadTab-c21a8eac.js","assets/upload-c1efbb4a.js","assets/circle-alert-dc75c245.js","assets/FinancialsTab-ae36bb23.js","assets/credit-card-bea94bde.js","assets/AdminTab-a5eee867.js","assets/user-plus-36b776d9.js","assets/users-dec98a74.js","assets/ProfileTab-bdc8470c.js","assets/wheat-cf9493c5.js"])),T=o.lazy(()=>n(()=>import("./GroceryDashboard-2639a87b.js"),["assets/GroceryDashboard-2639a87b.js","assets/index-4020e339.js","assets/index-cf56b884.css","assets/BaseStoreDashboard-0e39fc73.js","assets/Helmet-966781f7.js","assets/log-out-30241d86.js","assets/OverviewTab-30ffe364.js","assets/card-cc9cfd5e.js","assets/useStoreDashboard-092a1cc0.js","assets/settings-3a739b87.js","assets/package-1cc03608.js","assets/trending-up-36728e9d.js","assets/triangle-alert-30e3235d.js","assets/input-72252c3d.js","assets/select-31cdb233.js","assets/check-8b5d22b0.js","assets/dialog-d2829896.js","assets/label-dfea19c8.js","assets/textarea-6e954f6a.js","assets/index-cb56a7ed.js","assets/badge-54788017.js","assets/table-3562d8f8.js","assets/shopping-cart-ad832388.js","assets/search-90c48c54.js","assets/pencil-5a5480e6.js","assets/OrdersTab-e6190215.js","assets/clock-f4d06a64.js","assets/truck-45a9dcb6.js","assets/map-pin-865d1b33.js","assets/BulkUploadTab-c21a8eac.js","assets/upload-c1efbb4a.js","assets/circle-alert-dc75c245.js","assets/FinancialsTab-ae36bb23.js","assets/credit-card-bea94bde.js","assets/AdminTab-a5eee867.js","assets/user-plus-36b776d9.js","assets/users-dec98a74.js","assets/ProfileTab-bdc8470c.js"])),_=o.lazy(()=>n(()=>import("./GeneralStoreDashboard-0d5aa278.js"),["assets/GeneralStoreDashboard-0d5aa278.js","assets/index-4020e339.js","assets/index-cf56b884.css","assets/BaseStoreDashboard-0e39fc73.js","assets/Helmet-966781f7.js","assets/log-out-30241d86.js","assets/package-1cc03608.js","assets/upload-c1efbb4a.js","assets/settings-3a739b87.js","assets/users-dec98a74.js","assets/useStoreDashboard-092a1cc0.js","assets/triangle-alert-30e3235d.js"])),f=o.lazy(()=>n(()=>import("./AgriculturalDashboard-77d4f9bc.js"),["assets/AgriculturalDashboard-77d4f9bc.js","assets/index-4020e339.js","assets/index-cf56b884.css","assets/BaseStoreDashboard-0e39fc73.js","assets/Helmet-966781f7.js","assets/log-out-30241d86.js","assets/OverviewTab-30ffe364.js","assets/card-cc9cfd5e.js","assets/useStoreDashboard-092a1cc0.js","assets/settings-3a739b87.js","assets/package-1cc03608.js","assets/trending-up-36728e9d.js","assets/triangle-alert-30e3235d.js","assets/input-72252c3d.js","assets/select-31cdb233.js","assets/check-8b5d22b0.js","assets/dialog-d2829896.js","assets/label-dfea19c8.js","assets/textarea-6e954f6a.js","assets/sprout-96a24ec4.js","assets/search-90c48c54.js","assets/pencil-5a5480e6.js","assets/OrdersTab-e6190215.js","assets/badge-54788017.js","assets/clock-f4d06a64.js","assets/truck-45a9dcb6.js","assets/map-pin-865d1b33.js","assets/BulkUploadTab-c21a8eac.js","assets/upload-c1efbb4a.js","assets/circle-alert-dc75c245.js","assets/FinancialsTab-ae36bb23.js","assets/credit-card-bea94bde.js","assets/AdminTab-a5eee867.js","assets/user-plus-36b776d9.js","assets/users-dec98a74.js","assets/StoreCustomersTab-f7a15481.js"])),b=o.lazy(()=>n(()=>import("./StationeryDashboard-469d63b7.js"),["assets/StationeryDashboard-469d63b7.js","assets/index-4020e339.js","assets/index-cf56b884.css","assets/BaseStoreDashboard-0e39fc73.js","assets/Helmet-966781f7.js","assets/log-out-30241d86.js","assets/card-cc9cfd5e.js","assets/input-72252c3d.js","assets/select-31cdb233.js","assets/check-8b5d22b0.js","assets/dialog-d2829896.js","assets/label-dfea19c8.js","assets/textarea-6e954f6a.js","assets/useStoreDashboard-092a1cc0.js","assets/search-90c48c54.js","assets/file-image-234ab79d.js","assets/pencil-5a5480e6.js","assets/badge-54788017.js","assets/shopping-cart-ad832388.js","assets/credit-card-bea94bde.js","assets/circle-x-6133c8af.js","assets/StoreCustomersTab-f7a15481.js","assets/users-dec98a74.js","assets/withStoreCategory-fe901fe2.js","assets/triangle-alert-30e3235d.js","assets/package-1cc03608.js","assets/upload-c1efbb4a.js","assets/settings-3a739b87.js"])),z={restaurante:P,hotel:A,ropa:g,"tienda de ropa":g,farmacia:O,panadería:p,panaderia:p,supermercado:T,cultivador:f,cultivadores:f,papelería:b,papeleria:b},I=()=>{const{user:t,signOut:a}=w(),r=R(),{store:s,isLoadingStore:j,error:l,fetchStoreData:c}=h();if(S.useEffect(()=>{t&&(s&&s.owner_id!==t.id&&h.getState().reset(),c(t.id))},[t,c]),!t)return r("/tienda/login"),null;if(j)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:e.jsx(x,{text:"Cargando tu negocio...",size:"lg"})});if(l)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-lg text-center border border-red-100",children:[e.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Error de Carga"}),e.jsx("p",{className:"text-gray-600 mb-4",children:l}),e.jsx(i,{onClick:()=>window.location.reload(),className:"w-full",children:"Reintentar"})]})});if(!s)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-lg text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Negocio no encontrado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"No se encontró un negocio asociado a tu cuenta. ¿Deseas registrar uno nuevo?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{onClick:()=>r("/tienda/registro"),className:"w-full bg-green-600 hover:bg-green-700",children:"Registrar Negocio"}),e.jsx(i,{onClick:()=>a(),variant:"outline",className:"w-full",children:"Cerrar Sesión"})]})]})});const y=(()=>{if(!s.category)return _;const v=s.category.toLowerCase().trim(),d=z[v];return d||(console.warn(`[StoreDashboardRouter] Unknown category: "${s.category}". Falling back to General Dashboard.`),_)})();return e.jsx(L,{children:e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"h-screen flex items-center justify-center",children:e.jsx(x,{text:"Cargando panel..."})}),children:e.jsx(y,{store:s})})})},F=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{x as L,F as i};
