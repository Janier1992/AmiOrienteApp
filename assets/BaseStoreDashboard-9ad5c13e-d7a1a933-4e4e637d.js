import{x as u,y as e,d as c,a9 as f,aa as j,P as b,b as d,M as v,o as w,i as N,j as o,u as y,H as m,q as k,ab as I}from"./index-8e3c4911.js";import{z}from"./Helmet-d9a99439-17d17245-80416325.js";import{o as A}from"./log-out-1de3e3ee-53ee1d6f-be22ed5f.js";import{L as C}from"./index-6c60542e-1f0cc56c-a6179bc2.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],P=u("layout-dashboard",O),S=({title:s,navItems:r,isOpen:i,toggleSidebar:a})=>{const{signOut:t}=w(),n=b();N();const g=async()=>{await t()},p=({item:l})=>{const x=`/tienda/dashboard/${l.path}`,h=l.path===""?n.pathname==="/tienda/dashboard"||n.pathname==="/tienda/dashboard/":n.pathname.startsWith(x);return e.jsxs(m,{to:x,onClick:()=>a(!1),id:`nav-${l.path||"home"}`,className:o("group flex items-center px-3 py-2.5 text-sm font-medium rounded-lg transition-all duration-200 mb-1",h?"bg-green-600 text-white shadow-md shadow-green-200":"text-slate-600 hover:bg-green-50 hover:text-green-700"),children:[e.jsx(l.icon,{className:o("h-5 w-5 mr-3 flex-shrink-0 transition-colors",h?"text-white":"text-slate-400 group-hover:text-green-600")}),e.jsx("span",{className:"truncate flex-1",children:l.label}),h&&e.jsx(I,{className:"h-4 w-4 text-white/80"})]})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:o("fixed inset-0 bg-black/60 z-40 lg:hidden backdrop-blur-sm transition-opacity duration-300",i?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),onClick:()=>a(!1),"aria-hidden":"true"}),e.jsx("aside",{className:o("fixed top-0 left-0 z-50 h-full w-64 bg-white border-r border-slate-200 shadow-xl lg:shadow-none","transform transition-transform duration-300 ease-in-out",i?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 border-b border-slate-100 px-4 shrink-0 bg-white",children:[e.jsxs("div",{className:"flex items-center gap-2 overflow-hidden",children:[e.jsx("div",{className:"h-8 w-8 bg-green-100 rounded-lg flex items-center justify-center text-green-700 font-bold shrink-0",children:(s==null?void 0:s.charAt(0))||"A"}),e.jsx("span",{className:"font-bold text-lg text-slate-800 truncate",title:s,children:s||"AmiOriente"})]}),e.jsx(d,{variant:"ghost",size:"icon",className:"lg:hidden text-slate-400",onClick:()=>a(!1),children:e.jsx(y,{className:"h-5 w-5"})})]}),e.jsxs("div",{className:"p-4 flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-200",children:[e.jsx("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-wider mb-4 pl-3",children:"Gestión"}),e.jsx("nav",{id:"dashboard-sidebar-menu",className:"space-y-1",children:r.map(l=>e.jsx(p,{item:l},l.label))})]}),e.jsxs("div",{className:"p-4 border-t border-slate-100 space-y-2 bg-slate-50/50 shrink-0",children:[e.jsx(m,{to:"/",children:e.jsxs(d,{variant:"outline",className:"w-full justify-start border-slate-200 text-slate-600 hover:text-green-700 hover:bg-white hover:border-green-200",children:[e.jsx(k,{className:"h-4 w-4 mr-3"}),"Ir al Inicio"]})}),e.jsxs(d,{variant:"ghost",className:"w-full justify-start text-red-600 hover:text-red-700 hover:bg-red-50",onClick:g,children:[e.jsx(A,{className:"h-4 w-4 mr-3"}),"Cerrar Sesión"]})]})]})})]})},$=({title:s,navItems:r,children:i})=>{const[a,t]=c.useState(!1),n=b();return c.useEffect(()=>{t(!1)},[n.pathname]),e.jsxs("div",{className:"min-h-screen bg-slate-50 flex",children:[e.jsx(z,{children:e.jsxs("title",{children:[s||"Dashboard"," | AmiOriente"]})}),e.jsxs(d,{variant:"outline",size:"icon",className:"fixed top-4 left-4 z-[60] lg:hidden shadow-md bg-white border-slate-200 text-slate-700 hover:bg-slate-50",onClick:()=>t(!a),children:[e.jsx(v,{className:"h-5 w-5"}),e.jsx("span",{className:"sr-only",children:"Abrir menú"})]}),e.jsx(S,{title:s,navItems:r,isOpen:a,toggleSidebar:t}),e.jsx("main",{className:"flex-1 min-w-0 transition-all duration-300 ease-in-out lg:ml-64 w-full",children:e.jsx("div",{className:"h-full p-4 sm:p-6 lg:p-8 mt-14 lg:mt-0 animate-in fade-in duration-500",children:i})})]})},_=({store:s,tabs:r,title:i})=>{const a=r.filter(t=>!t.hidden).map(t=>({label:t.label,icon:t.icon,path:t.path}));return e.jsx($,{title:i||(s==null?void 0:s.name)||"Dashboard",navItems:a,children:e.jsx(c.Suspense,{fallback:e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(C,{})}),children:e.jsx(f,{children:r.map(t=>e.jsx(j,{path:t.path,element:t.element},t.path))})})})};export{P as $,_ as L};
