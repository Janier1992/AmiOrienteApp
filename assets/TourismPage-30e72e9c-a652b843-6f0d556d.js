import{x as M,d as c,w as L,v as z,y as e,T as S,b as d,g as T,F as H,Y as F,l as O,u as V,h as A,m as B,n as q,X as I,V as U,B as W}from"./index-8e3c4911.js";import{z as X}from"./Helmet-d9a99439-17d17245-80416325.js";import{a as N}from"./input-977568de-bea10295-4adb3258.js";import{e as C}from"./sample-data-be06332b-5d91aeff-5d91aeff.js";import{u as v}from"./label-6ced007b-31f64b09-71156226.js";import{l as Y}from"./textarea-03a75c76-69040bf5-35a9782e.js";import{e as E}from"./map-pin-4396fd6c-98f8e615-be2face5.js";import{d as D}from"./bed-double-0906a1cb-dc63bf7a-3f207685.js";import{d as P}from"./utensils-crossed-8251ba29-3d1f84c7-60fb7034.js";import{r as $}from"./star-228904cf-a4a173ca-0fd05dd1.js";import{e as G}from"./phone-970a33d0-a31adfe8-11805b3b.js";import{n as J}from"./navigation-528feaaa-5da97b63-dfd01a97.js";import{L as Q,M as Z,T as K,z as ee}from"./TileLayer-164134ad-df0d834a-6bb097bb.js";import{o as ae}from"./search-566f00ed-c3babbf0-ad60b5b7.js";import{d as se,k as te}from"./utensils-0b01c7c9-c6f22bc5-a1809ae5.js";/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],le=M("globe",re);/**
* @license lucide-react v0.561.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const ie=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],ne=M("landmark",ie);/**
* @license lucide-react v0.561.0 - ISC
*
* This source code is licensed under the ISC license.
* See the LICENSE file in the root directory of this source tree.
*/const oe=[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}]],ce=M("mountain",oe),de=({hotelName:a,onClose:x})=>{const[n,u]=c.useState(2),[o,l]=c.useState(!1),{toast:i}=q(),m=r=>{r.preventDefault(),l(!0),setTimeout(()=>{l(!1),i({title:"¡Reserva Solicitada!",description:`Tu solicitud para ${a} ha sido enviada. Te contactaremos pronto para confirmar.`}),x&&x()},1500)};return e.jsxs("form",{onSubmit:m,className:"space-y-4 mt-4 p-4 border rounded-lg bg-slate-50",children:[e.jsxs("h3",{className:"font-semibold text-lg mb-2",children:["Reservar en ",a]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Fecha de Llegada"}),e.jsx(N,{type:"date",required:!0,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Fecha de Salida"}),e.jsx(N,{type:"date",required:!0,className:"bg-white"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Huéspedes"}),e.jsx(N,{type:"number",min:"1",max:"10",value:n,onChange:r=>u(r.target.value),required:!0,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Nombre Completo"}),e.jsx(N,{placeholder:"Tu nombre",required:!0,className:"bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{children:"Teléfono de Contacto"}),e.jsx(N,{placeholder:"+57 300 123 4567",type:"tel",required:!0,className:"bg-white"})]}),e.jsxs(d,{type:"submit",className:"w-full",disabled:o,children:[o?e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}):null,o?"Procesando...":"Solicitar Reserva"]})]})},R=[{id:1,name:"Bandeja Paisa",price:35e3},{id:2,name:"Cazuela de Frijoles",price:28e3},{id:3,name:"Chicharrón Carnudo",price:18e3},{id:4,name:"Jugo Natural",price:8e3}],me=({restaurantName:a,onClose:x})=>{const[n,u]=c.useState({}),[o,l]=c.useState(!1),{toast:i}=q(),m=(t,y)=>{u(b=>{const s=b[t]||0,h=Math.max(0,s+y);if(h===0){const{[t]:p,...k}=b;return k}return{...b,[t]:h}})},r=Object.entries(n).reduce((t,[y,b])=>{const s=R.find(h=>h.id===parseInt(y));return t+s.price*b},0),w=t=>{if(t.preventDefault(),r===0){i({title:"Carrito vacío",description:"Por favor agrega productos.",variant:"destructive"});return}l(!0),setTimeout(()=>{l(!1),i({title:"¡Pedido Enviado!",description:`Tu pedido a ${a} está siendo procesado. Un domiciliario lo aceptará pronto.`}),x()},1500)};return e.jsxs("div",{className:"space-y-4 mt-4 border rounded-lg bg-slate-50 p-4",children:[e.jsxs("h3",{className:"font-semibold text-lg flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5"}),"Pedir a Domicilio - ",a]}),e.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto pr-2",children:R.map(t=>e.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:t.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",t.price.toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{size:"icon",variant:"outline",className:"h-6 w-6",onClick:()=>m(t.id,-1),children:e.jsx(U,{className:"h-3 w-3"})}),e.jsx("span",{className:"text-sm w-4 text-center",children:n[t.id]||0}),e.jsx(d,{size:"icon",variant:"outline",className:"h-6 w-6",onClick:()=>m(t.id,1),children:e.jsx(W,{className:"h-3 w-3"})})]})]},t.id))}),e.jsxs("div",{className:"pt-2 border-t",children:[e.jsxs("div",{className:"flex justify-between font-bold mb-4",children:[e.jsx("span",{children:"Total:"}),e.jsxs("span",{children:["$",r.toLocaleString()]})]}),e.jsxs("form",{onSubmit:w,className:"space-y-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(v,{className:"text-xs",children:"Dirección de Entrega"}),e.jsx(N,{required:!0,placeholder:"Cra 30 # 29...",className:"bg-white h-8 text-sm"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(v,{className:"text-xs",children:"Notas (Opcional)"}),e.jsx(Y,{placeholder:"Sin cebolla, timbre dañado...",className:"bg-white h-16 text-sm"})]}),e.jsxs(d,{type:"submit",className:"w-full",disabled:o||r===0,children:[o?e.jsx(T,{className:"mr-2 h-4 w-4 animate-spin"}):null,o?"Enviando...":"Confirmar Pedido"]})]})]})]})},xe=({spot:a,isOpen:x,onClose:n})=>{var u;const[o,l]=c.useState(null);if(c.useEffect(()=>{l(null)},[a]),!a)return null;const i=[a.latitude||6.17,a.longitude||-75.33],m=a.category_name==="Hoteles",r=a.category_name==="Restaurantes",w=()=>{const t=`https://www.google.com/maps/dir/?api=1&destination=${a.latitude},${a.longitude}`;window.open(t,"_blank")};return e.jsx(F,{open:x,onOpenChange:t=>!t&&n(),children:e.jsxs(O,{className:"max-w-4xl p-0 overflow-hidden max-h-[90vh] flex flex-col md:flex-row bg-white",children:[e.jsxs("div",{className:"w-full md:w-5/12 relative h-48 md:h-auto shrink-0",children:[e.jsx("img",{alt:a.name,className:"h-full w-full object-cover",src:((u=a.image_urls)==null?void 0:u[0])||"https://images.unsplash.com/photo-1702403847682-160bc0851819"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent md:bg-gradient-to-r md:from-transparent md:to-black/10"}),e.jsxs("div",{className:"absolute bottom-4 left-4 right-4 text-white",children:[e.jsx("h2",{className:"text-2xl font-bold leading-tight mb-1",children:a.name}),e.jsxs("p",{className:"text-sm opacity-90 truncate flex items-center gap-1",children:[e.jsx(E,{className:"h-3 w-3"})," ",a.address]})]})]}),e.jsxs("div",{className:"w-full md:w-7/12 p-6 flex flex-col overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{className:"flex gap-2 text-sm text-primary font-medium bg-primary/10 px-3 py-1 rounded-full w-fit items-center",children:[m&&e.jsx(D,{className:"h-4 w-4"}),r&&e.jsx(P,{className:"h-4 w-4"}),!m&&!r&&e.jsx($,{className:"h-4 w-4"}),a.category_name||"Turismo"]}),e.jsx(d,{variant:"ghost",size:"icon",onClick:n,className:"-mr-2 -mt-2 h-8 w-8 rounded-full",children:e.jsx(V,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-muted-foreground text-sm leading-relaxed mb-6",children:a.description}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[a.contact_phone&&e.jsxs("a",{href:`tel:${a.contact_phone}`,className:"flex items-center gap-2 text-sm text-foreground hover:text-primary transition-colors p-2 rounded border bg-slate-50 hover:bg-slate-100",children:[e.jsx(G,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"truncate",children:"Llamar"})]}),a.website&&e.jsxs("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-foreground hover:text-primary transition-colors p-2 rounded border bg-slate-50 hover:bg-slate-100",children:[e.jsx(le,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"truncate",children:"Sitio Web"})]}),e.jsxs(d,{variant:"outline",className:"col-span-2 flex items-center justify-center gap-2 text-blue-600 border-blue-200 hover:bg-blue-50",onClick:w,children:[e.jsx(J,{className:"h-4 w-4"}),"Ver ubicación en Google Maps"]})]}),!o&&e.jsxs("div",{className:"flex gap-3 mb-6",children:[m&&e.jsxs(d,{onClick:()=>l("booking"),className:"w-full",children:[e.jsx(D,{className:"mr-2 h-4 w-4"}),"Reservar Ahora"]}),r&&e.jsxs(d,{onClick:()=>l("ordering"),className:"w-full",children:[e.jsx(P,{className:"mr-2 h-4 w-4"}),"Pedir a Domicilio"]})]}),o==="booking"&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Formulario de Reserva"}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>l(null),className:"h-6 text-xs text-muted-foreground",children:"Cancelar"})]}),e.jsx(de,{hotelName:a.name,onClose:()=>{l(null),n()}})]}),o==="ordering"&&e.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-300",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Menú Domicilios"}),e.jsx(d,{variant:"ghost",size:"sm",onClick:()=>l(null),className:"h-6 text-xs text-muted-foreground",children:"Cancelar"})]}),e.jsx(me,{restaurantName:a.name,onClose:()=>{l(null),n()}})]}),!o&&e.jsxs("div",{className:"mt-auto pt-4 border-t",children:[e.jsx("p",{className:"text-xs font-semibold text-muted-foreground mb-2 uppercase tracking-wider",children:"Ubicación"}),e.jsx("div",{className:"h-48 w-full rounded-lg overflow-hidden border bg-slate-100 relative z-0",children:e.jsxs(Q,{center:i,zoom:15,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[e.jsx(Z,{attribution:'© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.jsx(K,{position:i,children:e.jsx(ee,{children:a.name})})]})})]})]})]})})},he={Hoteles:se,Restaurantes:te,"Sitios de Interés":ne,Naturaleza:ce,Actividades:$},pe=({spot:a,onSelect:x})=>{var n;return e.jsx(S.div,{layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,scale:.95},transition:{duration:.3},className:"h-full",onClick:()=>x(a),children:e.jsxs(A,{className:"overflow-hidden h-full flex flex-col hover:shadow-xl transition-all duration-300 cursor-pointer group border-slate-200 bg-white/90 backdrop-blur-sm",children:[e.jsxs("div",{className:"relative h-56 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-200 animate-pulse"})," ",e.jsx("img",{alt:a.name,className:"h-full w-full object-cover group-hover:scale-110 transition-transform duration-500",src:((n=a.image_urls)==null?void 0:n[0])||"https://images.unsplash.com/photo-1594201504659-ab3fb7db00dc",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent opacity-60 group-hover:opacity-40 transition-opacity"}),e.jsx("div",{className:"absolute top-3 right-3 flex gap-2",children:e.jsxs("div",{className:"bg-white/90 backdrop-blur text-xs font-bold px-2 py-1 rounded-full shadow-sm text-slate-800 flex items-center",children:[e.jsx($,{className:"h-3 w-3 mr-1 fill-yellow-400 text-yellow-400"}),a.rating||4.5]})}),e.jsxs("div",{className:"absolute bottom-3 left-3 right-3",children:[e.jsx("span",{className:"inline-block bg-primary/90 text-white text-[10px] uppercase font-bold px-2 py-0.5 rounded mb-1",children:a.category_name}),e.jsx("h3",{className:"text-white font-bold text-lg leading-tight shadow-black drop-shadow-md",children:a.name})]})]}),e.jsxs(B,{className:"p-4 flex-grow flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-start text-muted-foreground mb-3",children:[e.jsx(E,{className:"h-3.5 w-3.5 mt-1 mr-1.5 flex-shrink-0 text-primary"}),e.jsx("span",{className:"text-xs line-clamp-1",children:a.address})]}),e.jsx("p",{className:"text-sm text-slate-600 line-clamp-3 leading-relaxed",children:a.description})]}),e.jsxs("div",{className:"mt-4 pt-3 border-t border-slate-100 flex justify-between items-center",children:[e.jsx("span",{className:"text-xs font-medium text-primary cursor-pointer hover:underline flex items-center gap-1",children:"Ver detalles"}),a.category_name==="Hoteles"&&e.jsx("span",{className:"text-xs bg-green-50 text-green-700 px-2 py-1 rounded border border-green-100 font-medium",children:"Reservar"}),a.category_name==="Restaurantes"&&e.jsx("span",{className:"text-xs bg-orange-50 text-orange-700 px-2 py-1 rounded border border-orange-100 font-medium",children:"Pedir"})]})]})]})})},Te=()=>{const[a,x]=c.useState([]),[n,u]=c.useState([]),[o,l]=c.useState(!0),[i,m]=c.useState("Todos"),[r,w]=c.useState(""),[t,y]=c.useState(null);c.useEffect(()=>{(async()=>{l(!0);try{const{data:s,error:h}=await L.from("tourism_categories").select("*"),{data:p,error:k}=await L.from("tourism_spots").select("*, tourism_categories(name)");let _=s||[],j=[];if(!k&&p&&(j=p.map(g=>{var f;return{...g,category_name:(f=g.tourism_categories)==null?void 0:f.name}})),j.length===0)j=C;else{j=[...j,...C];const g=new z;j.forEach(f=>g.set(f.name,f)),j=Array.from(g.values())}_.length===0&&(_=[...new Set(C.map(g=>g.category_name))].map((g,f)=>({id:f,name:g}))),u(_),x(j)}catch(s){console.error("Critical error in TourismPage:",s),x(C);const h=[...new Set(C.map(p=>p.category_name))];u(h.map((p,k)=>({id:k,name:p})))}finally{l(!1)}})()},[]);const b=c.useMemo(()=>a.filter(s=>{const h=i==="Todos"||s.category_name===i,p=s.name.toLowerCase().includes(r.toLowerCase())||s.address&&s.address.toLowerCase().includes(r.toLowerCase())||s.description&&s.description.toLowerCase().includes(r.toLowerCase());return h&&p}),[a,i,r]);return e.jsxs(e.Fragment,{children:[e.jsxs(X,{children:[e.jsx("title",{children:"Turismo en Marinilla - MiOriente"}),e.jsx("meta",{name:"description",content:"Descubre Marinilla: Hoteles, Restaurantes, Cultura y Naturaleza en el corazón de Antioquia."})]}),e.jsxs("div",{className:"min-h-screen bg-slate-50/50",children:[e.jsxs("header",{className:"relative bg-slate-900 text-white py-24 px-4 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("img",{src:"https://horizons-cdn.hostinger.com/9a2f1d5f-26c5-4fa8-b3e7-17e2b7bc86a9/7903e645a9d3db709ac238561aef0e07.jpg",alt:"Marinilla Background",className:"w-full h-full object-cover opacity-40 blur-sm scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-slate-900/90"})]}),e.jsxs("div",{className:"relative z-10 max-w-4xl mx-auto text-center",children:[e.jsxs(S.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("h1",{className:"text-4xl md:text-6xl font-extrabold mb-6 tracking-tight",children:["Descubre ",e.jsx("span",{className:"text-primary bg-clip-text text-transparent bg-gradient-to-r from-green-400 to-emerald-600",children:"Marinilla"})]}),e.jsx("p",{className:"text-lg md:text-2xl text-slate-200 mb-8 max-w-2xl mx-auto font-light leading-relaxed",children:"La Esparta Colombiana te espera con su riqueza histórica, su gastronomía única y paisajes inolvidables."})]}),e.jsxs(S.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},className:"max-w-xl mx-auto relative group",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 blur-xl rounded-full group-hover:bg-white/30 transition-all"}),e.jsxs("div",{className:"relative flex items-center bg-white rounded-full shadow-2xl p-2",children:[e.jsx(ae,{className:"h-6 w-6 text-slate-400 ml-3"}),e.jsx(N,{type:"text",placeholder:"¿Qué buscas? (Ej: Hotel Cannua, Iglesia...)",className:"border-none shadow-none focus-visible:ring-0 text-slate-800 placeholder:text-slate-400 h-12 text-base bg-transparent",value:r,onChange:s=>w(s.target.value)})]})]})]})]}),e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12 -mt-10 relative z-20",children:[e.jsxs("div",{className:"flex flex-wrap justify-center gap-3 mb-10",children:[e.jsx(d,{variant:i==="Todos"?"default":"secondary",className:`rounded-full shadow-lg transition-all ${i==="Todos"?"bg-primary hover:bg-primary/90":"bg-white hover:bg-slate-100 text-slate-700"}`,onClick:()=>m("Todos"),children:"Todos"}),n.map((s,h)=>{const p=he[s.name]||z;return e.jsxs(d,{variant:i===s.name?"default":"secondary",className:`rounded-full shadow-lg border-0 transition-all ${i===s.name?"bg-primary hover:bg-primary/90 text-white":"bg-white hover:bg-slate-100 text-slate-700"}`,onClick:()=>m(s.name),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),s.name]},s.id||h)})]}),o?e.jsxs("div",{className:"flex flex-col justify-center items-center h-64 text-slate-500",children:[e.jsx(T,{className:"h-12 w-12 animate-spin text-primary mb-4"}),e.jsx("p",{children:"Cargando lo mejor de Marinilla..."})]}):e.jsx(H,{mode:"popLayout",children:b.length>0?e.jsx(S.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:b.map(s=>e.jsx(pe,{spot:s,onSelect:y},s.id))}):e.jsxs(S.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20 bg-white rounded-2xl border border-dashed border-slate-300",children:[e.jsx(z,{className:"h-20 w-20 text-slate-200 mx-auto mb-4"}),e.jsx("h2",{className:"text-2xl font-bold text-slate-700 mb-2",children:"No encontramos resultados"}),e.jsx("p",{className:"text-slate-500 max-w-md mx-auto",children:"Intenta con otra categoría o busca algo diferente en Marinilla."}),e.jsx(d,{variant:"link",onClick:()=>{m("Todos"),w("")},className:"mt-4 text-primary",children:"Ver todo"})]})})]})]}),e.jsx(xe,{spot:t,isOpen:!!t,onClose:()=>y(null)})]})};export{Te as default};
