var D=Object.defineProperty;var E=(t,a,r)=>a in t?D(t,a,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[a]=r;var m=(t,a,r)=>(E(t,typeof a!="symbol"?a+"":a,r),r);import{j as e,h as u,b as N,R as o,B as i,_ as n,l as w,g as R,r as S}from"./index-1004543a.js";import{useStoreDashboard as h}from"./useStoreDashboard-597dd6f0.js";import{T as C}from"./triangle-alert-2d5d9142.js";const x=({className:t,size:a="default",text:r})=>{const s={sm:"h-4 w-4",default:"h-8 w-8",lg:"h-12 w-12"};return e.jsxs("div",{className:u("flex flex-col items-center justify-center p-6 rounded-lg",t),children:[e.jsx(N,{className:u("animate-spin text-primary mb-3",s[a])}),r&&e.jsx("p",{className:"text-sm font-medium text-muted-foreground animate-pulse",children:r})]})};class L extends o.Component{constructor(r){super(r);m(this,"handleReset",()=>{this.setState({hasError:!1,error:null}),window.location.reload()});this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,s){console.error("Uncaught error:",r,s)}render(){return this.state.hasError?e.jsxs("div",{className:"min-h-[400px] flex flex-col items-center justify-center p-6 text-center bg-slate-50 rounded-lg border-2 border-dashed border-red-200 m-4",children:[e.jsx("div",{className:"bg-red-100 p-4 rounded-full mb-4",children:e.jsx(C,{className:"h-8 w-8 text-red-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Algo salió mal"}),e.jsx("p",{className:"text-gray-600 mb-6 max-w-md",children:"Ha ocurrido un error inesperado en este componente. Por favor intenta recargar."}),e.jsx(i,{onClick:this.handleReset,variant:"destructive",children:"Recargar Página"}),!1]}):this.props.children}}const P=o.lazy(()=>n(()=>import("./RestaurantDashboard-05c38115.js"),["./RestaurantDashboard-05c38115.js","./index-1004543a.js","./index-00914d01.css","./BulkUploadTab-e6c5168a.js","./card-2a69ef9f.js","./upload-e1ff9116.js","./circle-alert-7c5254f3.js","./BaseStoreDashboard-10cda143.js","./Helmet-0aaa1c92.js","./log-out-a78cae96.js","./badge-1666b2ce.js","./RestaurantMenuView-633698e6.js","./input-a76da225.js","./select-0a8bce11.js","./check-65214e7a.js","./dialog-4e5e5dd7.js","./label-d8349a8f.js","./textarea-e00ca30c.js","./switch-08cbc454.js","./index-67cd1b79.js","./useStoreDashboard-597dd6f0.js","./search-b4265b90.js","./utensils-crossed-1aadad3b.js","./pencil-1e3aeda4.js","./settings-93b92798.js","./users-9574cf82.js","./triangle-alert-2d5d9142.js"],import.meta.url)),A=o.lazy(()=>n(()=>import("./HotelDashboard-211b7cee.js"),["./HotelDashboard-211b7cee.js","./index-1004543a.js","./index-00914d01.css","./BaseStoreDashboard-10cda143.js","./Helmet-0aaa1c92.js","./log-out-a78cae96.js","./card-2a69ef9f.js","./tabs-b28f01ce.js","./circle-check-big-e691987a.js","./clock-cb46345e.js","./input-a76da225.js","./label-d8349a8f.js","./select-0a8bce11.js","./check-65214e7a.js","./badge-1666b2ce.js","./search-b4265b90.js","./credit-card-ed0abb9b.js","./FinancialsTab-6a9fbc32.js","./useStoreDashboard-597dd6f0.js","./settings-93b92798.js","./trending-up-91687fbf.js","./circle-alert-7c5254f3.js","./triangle-alert-2d5d9142.js","./StoreCustomersTab-7a74c221.js","./users-9574cf82.js","./withStoreCategory-2bef49aa.js","./bed-double-27b33970.js"],import.meta.url)),p=o.lazy(()=>n(()=>import("./ClothingStoreDashboard-23f67e63.js"),["./ClothingStoreDashboard-23f67e63.js","./index-1004543a.js","./index-00914d01.css","./BaseStoreDashboard-10cda143.js","./Helmet-0aaa1c92.js","./log-out-a78cae96.js","./OverviewTab-138b56f1.js","./card-2a69ef9f.js","./useStoreDashboard-597dd6f0.js","./settings-93b92798.js","./package-e9a73ef2.js","./trending-up-91687fbf.js","./triangle-alert-2d5d9142.js","./input-a76da225.js","./select-0a8bce11.js","./check-65214e7a.js","./dialog-4e5e5dd7.js","./label-d8349a8f.js","./textarea-e00ca30c.js","./badge-1666b2ce.js","./search-b4265b90.js","./shirt-a1971673.js","./pencil-1e3aeda4.js","./OrdersTab-2c882aa5.js","./clock-cb46345e.js","./truck-6890f398.js","./map-pin-da7b2b80.js","./FinancialsTab-6a9fbc32.js","./credit-card-ed0abb9b.js","./circle-alert-7c5254f3.js","./StoreCustomersTab-7a74c221.js","./users-9574cf82.js"],import.meta.url)),O=o.lazy(()=>n(()=>import("./PharmacyDashboard-f10dd906.js"),["./PharmacyDashboard-f10dd906.js","./index-1004543a.js","./index-00914d01.css","./BaseStoreDashboard-10cda143.js","./Helmet-0aaa1c92.js","./log-out-a78cae96.js","./OverviewTab-138b56f1.js","./card-2a69ef9f.js","./useStoreDashboard-597dd6f0.js","./settings-93b92798.js","./package-e9a73ef2.js","./trending-up-91687fbf.js","./triangle-alert-2d5d9142.js","./input-a76da225.js","./select-0a8bce11.js","./check-65214e7a.js","./dialog-4e5e5dd7.js","./label-d8349a8f.js","./textarea-e00ca30c.js","./switch-08cbc454.js","./index-67cd1b79.js","./badge-1666b2ce.js","./pill-97d75d1b.js","./pencil-1e3aeda4.js","./OrdersTab-2c882aa5.js","./clock-cb46345e.js","./truck-6890f398.js","./map-pin-da7b2b80.js","./BulkUploadTab-e6c5168a.js","./upload-e1ff9116.js","./circle-alert-7c5254f3.js","./FinancialsTab-6a9fbc32.js","./credit-card-ed0abb9b.js","./AdminTab-a48b4d23.js","./user-plus-8b815442.js","./users-9574cf82.js","./StoreCustomersTab-7a74c221.js"],import.meta.url)),g=o.lazy(()=>n(()=>import("./BakeryDashboard-1b270562.js"),["./BakeryDashboard-1b270562.js","./index-1004543a.js","./index-00914d01.css","./BaseStoreDashboard-10cda143.js","./Helmet-0aaa1c92.js","./log-out-a78cae96.js","./OverviewTab-138b56f1.js","./card-2a69ef9f.js","./useStoreDashboard-597dd6f0.js","./settings-93b92798.js","./package-e9a73ef2.js","./trending-up-91687fbf.js","./triangle-alert-2d5d9142.js","./RestaurantMenuView-633698e6.js","./input-a76da225.js","./select-0a8bce11.js","./check-65214e7a.js","./dialog-4e5e5dd7.js","./label-d8349a8f.js","./textarea-e00ca30c.js","./switch-08cbc454.js","./index-67cd1b79.js","./badge-1666b2ce.js","./search-b4265b90.js","./utensils-crossed-1aadad3b.js","./pencil-1e3aeda4.js","./OrdersTab-2c882aa5.js","./clock-cb46345e.js","./truck-6890f398.js","./map-pin-da7b2b80.js","./BulkUploadTab-e6c5168a.js","./upload-e1ff9116.js","./circle-alert-7c5254f3.js","./FinancialsTab-6a9fbc32.js","./credit-card-ed0abb9b.js","./AdminTab-a48b4d23.js","./user-plus-8b815442.js","./users-9574cf82.js","./ProfileTab-961855ec.js","./wheat-83956dd7.js"],import.meta.url)),T=o.lazy(()=>n(()=>import("./GroceryDashboard-82971167.js"),["./GroceryDashboard-82971167.js","./index-1004543a.js","./index-00914d01.css","./BaseStoreDashboard-10cda143.js","./Helmet-0aaa1c92.js","./log-out-a78cae96.js","./OverviewTab-138b56f1.js","./card-2a69ef9f.js","./useStoreDashboard-597dd6f0.js","./settings-93b92798.js","./package-e9a73ef2.js","./trending-up-91687fbf.js","./triangle-alert-2d5d9142.js","./input-a76da225.js","./select-0a8bce11.js","./check-65214e7a.js","./dialog-4e5e5dd7.js","./label-d8349a8f.js","./textarea-e00ca30c.js","./index-67cd1b79.js","./badge-1666b2ce.js","./table-b7b38c17.js","./shopping-cart-1123a609.js","./search-b4265b90.js","./pencil-1e3aeda4.js","./OrdersTab-2c882aa5.js","./clock-cb46345e.js","./truck-6890f398.js","./map-pin-da7b2b80.js","./BulkUploadTab-e6c5168a.js","./upload-e1ff9116.js","./circle-alert-7c5254f3.js","./FinancialsTab-6a9fbc32.js","./credit-card-ed0abb9b.js","./AdminTab-a48b4d23.js","./user-plus-8b815442.js","./users-9574cf82.js","./ProfileTab-961855ec.js"],import.meta.url)),_=o.lazy(()=>n(()=>import("./GeneralStoreDashboard-47de7098.js"),["./GeneralStoreDashboard-47de7098.js","./index-1004543a.js","./index-00914d01.css","./BaseStoreDashboard-10cda143.js","./Helmet-0aaa1c92.js","./log-out-a78cae96.js","./package-e9a73ef2.js","./upload-e1ff9116.js","./settings-93b92798.js","./users-9574cf82.js","./useStoreDashboard-597dd6f0.js","./triangle-alert-2d5d9142.js"],import.meta.url)),f=o.lazy(()=>n(()=>import("./AgriculturalDashboard-1ffe6f3c.js"),["./AgriculturalDashboard-1ffe6f3c.js","./index-1004543a.js","./index-00914d01.css","./BaseStoreDashboard-10cda143.js","./Helmet-0aaa1c92.js","./log-out-a78cae96.js","./OverviewTab-138b56f1.js","./card-2a69ef9f.js","./useStoreDashboard-597dd6f0.js","./settings-93b92798.js","./package-e9a73ef2.js","./trending-up-91687fbf.js","./triangle-alert-2d5d9142.js","./input-a76da225.js","./select-0a8bce11.js","./check-65214e7a.js","./dialog-4e5e5dd7.js","./label-d8349a8f.js","./textarea-e00ca30c.js","./sprout-806b3c99.js","./search-b4265b90.js","./pencil-1e3aeda4.js","./OrdersTab-2c882aa5.js","./badge-1666b2ce.js","./clock-cb46345e.js","./truck-6890f398.js","./map-pin-da7b2b80.js","./BulkUploadTab-e6c5168a.js","./upload-e1ff9116.js","./circle-alert-7c5254f3.js","./FinancialsTab-6a9fbc32.js","./credit-card-ed0abb9b.js","./AdminTab-a48b4d23.js","./user-plus-8b815442.js","./users-9574cf82.js","./StoreCustomersTab-7a74c221.js"],import.meta.url)),b=o.lazy(()=>n(()=>import("./StationeryDashboard-694ae0dc.js"),["./StationeryDashboard-694ae0dc.js","./index-1004543a.js","./index-00914d01.css","./BaseStoreDashboard-10cda143.js","./Helmet-0aaa1c92.js","./log-out-a78cae96.js","./card-2a69ef9f.js","./input-a76da225.js","./select-0a8bce11.js","./check-65214e7a.js","./dialog-4e5e5dd7.js","./label-d8349a8f.js","./textarea-e00ca30c.js","./useStoreDashboard-597dd6f0.js","./search-b4265b90.js","./file-image-047941c8.js","./pencil-1e3aeda4.js","./badge-1666b2ce.js","./shopping-cart-1123a609.js","./credit-card-ed0abb9b.js","./circle-x-061b140a.js","./StoreCustomersTab-7a74c221.js","./users-9574cf82.js","./withStoreCategory-2bef49aa.js","./triangle-alert-2d5d9142.js","./package-e9a73ef2.js","./upload-e1ff9116.js","./settings-93b92798.js"],import.meta.url)),z={restaurante:P,hotel:A,ropa:p,"tienda de ropa":p,farmacia:O,panadería:g,panaderia:g,supermercado:T,cultivador:f,cultivadores:f,papelería:b,papeleria:b},I=()=>{const{user:t,signOut:a}=w(),r=R(),{store:s,isLoadingStore:j,error:l,fetchStoreData:c}=h();if(S.useEffect(()=>{t&&(s&&s.owner_id!==t.id&&h.getState().reset(),c(t.id))},[t,c]),!t)return r("/tienda/login"),null;if(j)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:e.jsx(x,{text:"Cargando tu negocio...",size:"lg"})});if(l)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-lg text-center border border-red-100",children:[e.jsx("h2",{className:"text-xl font-bold text-red-600 mb-2",children:"Error de Carga"}),e.jsx("p",{className:"text-gray-600 mb-4",children:l}),e.jsx(i,{onClick:()=>window.location.reload(),className:"w-full",children:"Reintentar"})]})});if(!s)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-lg text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Negocio no encontrado"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"No se encontró un negocio asociado a tu cuenta. ¿Deseas registrar uno nuevo?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(i,{onClick:()=>r("/tienda/registro"),className:"w-full bg-green-600 hover:bg-green-700",children:"Registrar Negocio"}),e.jsx(i,{onClick:()=>a(),variant:"outline",className:"w-full",children:"Cerrar Sesión"})]})]})});const y=(()=>{if(!s.category)return _;const v=s.category.toLowerCase().trim(),d=z[v];return d||(console.warn(`[StoreDashboardRouter] Unknown category: "${s.category}". Falling back to General Dashboard.`),_)})();return e.jsx(L,{children:e.jsx(o.Suspense,{fallback:e.jsx("div",{className:"h-screen flex items-center justify-center",children:e.jsx(x,{text:"Cargando panel..."})}),children:e.jsx(y,{store:s})})})},F=Object.freeze(Object.defineProperty({__proto__:null,default:I},Symbol.toStringTag,{value:"Module"}));export{x as L,F as i};
