import{r as m,j as a,C as j,a as g,b,d as f,c as v,B as C,f as N,k as _,t as h}from"./index-7593522e.js";import{I as c}from"./input-30c35c11.js";import{L as n}from"./label-a4c1a31d.js";import{u as y}from"./useStoreDashboard-6e1233c7.js";const S=()=>{const{store:e,setStore:p}=y(),[i,l]=m.useState(!1),[s,u]=m.useState({name:(e==null?void 0:e.name)||"",address:(e==null?void 0:e.address)||"",description:(e==null?void 0:e.description)||"",contact_email:(e==null?void 0:e.contact_email)||"",contact_phone:(e==null?void 0:e.contact_phone)||"",whatsapp:(e==null?void 0:e.whatsapp)||"",facebook_url:(e==null?void 0:e.facebook_url)||"",instagram_url:(e==null?void 0:e.instagram_url)||""}),r=o=>{u({...s,[o.target.name]:o.target.value})},x=async o=>{o.preventDefault(),l(!0);try{const{data:t,error:d}=await _.from("stores").update(s).eq("id",e.id).select().single();if(d)throw d;p(t),h({title:"Perfil actualizado",description:"Los cambios se han guardado correctamente."})}catch{h({title:"Error",description:"No se pudieron guardar los cambios.",variant:"destructive"})}finally{l(!1)}};return a.jsxs(j,{children:[a.jsxs(g,{children:[a.jsx(b,{children:"Configuración del Negocio"}),a.jsx(f,{children:"Actualiza la información pública de tu negocio."})]}),a.jsx(v,{children:a.jsxs("form",{onSubmit:x,className:"space-y-6 max-w-lg",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-1",children:"Información Básica"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(n,{htmlFor:"name",children:"Nombre del Negocio"}),a.jsx(c,{id:"name",name:"name",value:s.name,onChange:r,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(n,{htmlFor:"address",children:"Dirección Física"}),a.jsx(c,{id:"address",name:"address",value:s.address,onChange:r,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(n,{htmlFor:"description",children:"Descripción Corta"}),a.jsx(c,{id:"description",name:"description",value:s.description,onChange:r,placeholder:"Ej: La mejor cosecha de Rionegro"})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-1",children:"Contacto"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(n,{htmlFor:"contact_email",children:"Correo de Contacto"}),a.jsx(c,{id:"contact_email",name:"contact_email",type:"email",value:s.contact_email,onChange:r,placeholder:"correo@ejemplo.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(n,{htmlFor:"contact_phone",children:"Teléfono / Celular"}),a.jsx(c,{id:"contact_phone",name:"contact_phone",value:s.contact_phone,onChange:r,placeholder:"+57 300..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(n,{htmlFor:"whatsapp",children:"WhatsApp (Link o Número)"}),a.jsx(c,{id:"whatsapp",name:"whatsapp",value:s.whatsapp,onChange:r,placeholder:"57300..."})]})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 border-b pb-1",children:"Redes Sociales"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(n,{htmlFor:"facebook_url",children:"Facebook URL"}),a.jsx(c,{id:"facebook_url",name:"facebook_url",value:s.facebook_url,onChange:r,placeholder:"https://facebook.com/..."})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(n,{htmlFor:"instagram_url",children:"Instagram URL"}),a.jsx(c,{id:"instagram_url",name:"instagram_url",value:s.instagram_url,onChange:r,placeholder:"https://instagram.com/..."})]})]}),a.jsx("div",{className:"pt-4",children:a.jsxs(C,{type:"submit",disabled:i,className:"bg-green-600 hover:bg-green-700 w-full md:w-auto",children:[i?a.jsx(N,{className:"h-4 w-4 animate-spin mr-2"}):null,"Guardar Cambios"]})})]})})]})};export{S as default};
